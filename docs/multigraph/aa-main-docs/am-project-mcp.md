# fedoc multigraph ‚Äî MCP Bridge

**–í–µ—Ä—Å–∏—è:** 0.1.0  
**–î–∞—Ç–∞:** 2025-11-09  
**–°—Ç–∞—Ç—É—Å:** üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ  
**–ê–≤—Ç–æ—Ä—ã:** –ê–ª–µ–∫—Å–∞–Ω–¥—Ä

–î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –ø–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è MCP-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ fedoc. MCP Bridge —Å–≤—è–∑—ã–≤–∞–µ—Ç Cursor AI —Å backend –∏ Graph Viewer –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –î–ª—è –æ–±—â–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–º. `aa-project.md`, –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –ø–æ backend ‚Äî `ab-project-backend.md`, –ø–æ frontend ‚Äî `af-project-frontend.md`.

---

## üéØ –¶–µ–ª–∏ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏

- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—É Cursor –¥–æ—Å—Ç—É–ø –∫ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ Model Context Protocol.
- –£–ø—Ä–∞–≤–ª—è—Ç—å Graph Viewer: –∑–∞–ø—É—Å–∫, –æ—Å—Ç–∞–Ω–æ–≤–∫–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞.
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏—è –∏ —Å–æ–±—ã—Ç–∏—è —Å WebSocket hub (`/ws`) –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã (–∑–∞–¥–∞—á–∞ –±–ª–æ–∫–∞ 1.3.2).
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —É–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –∞—Ä—Ö–∏–≤–∞ —Ä–µ—à–µ–Ω–∏–π (roadmap).

---

## üì¶ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.10+
- –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (`venv`) –ø—Ä–æ–µ–∫—Ç–∞ `fedoc`.
- –î–æ—Å—Ç—É–ø –∫ ArangoDB (—á–µ—Ä–µ–∑ SSH-—Ç—É–Ω–Ω–µ–ª—å `8529`) –∏ backend API (`8080`).

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–Ω–æ–≤–∞—è –≤–µ—Ç–∫–∞ multigraph)
```bash
cd mgsrc/mcp_bridge
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# —Ä–µ–∂–∏–º –¥–µ–º–æ–Ω–∞
python -m mcp_bridge.run_bridge --log-level INFO

# –µ–¥–∏–Ω–∏—á–Ω—ã–π —Å–Ω–∏–º–æ–∫ –≤—ã–¥–µ–ª–µ–Ω–∏—è (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
python -m mcp_bridge.run_bridge --mode once --timeout 3.0
```

> –í–∞–∂–Ω–æ: —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `src/mcp_server` –∏–∑ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π –≤–µ—Ä—Å–∏–∏ fedoc –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º ‚Äî –Ω–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –≤ `mgsrc/mcp_bridge`.

### Production (–ø–ª–∞–Ω)
- MCP Bridge —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å —Ä—è–¥–æ–º —Å backend `.pyz`.
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —á–µ—Ä–µ–∑ Supervisor/PM2 (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ backend).
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ HTTPS-—Ç—É–Ω–Ω–µ–ª—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ—Å–ª–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞.

---

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ `mgsrc/mcp_bridge`
```
mgsrc/mcp_bridge/
‚îú‚îÄ‚îÄ mcp_bridge/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                # –≠–∫—Å–ø–æ—Ä—Ç BridgeConfig, MCPBridge, WebSocketBridge
‚îÇ   ‚îú‚îÄ‚îÄ config.py                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (env ‚Üí BridgeConfig)
‚îÇ   ‚îú‚îÄ‚îÄ server.py                  # MCP Bridge API (push_selection, poll_graph_updates)
‚îÇ   ‚îî‚îÄ‚îÄ websocket_bridge.py        # –û–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ WebSocket hub (/ws)
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ test_mcp_bridge.py
‚îÇ   ‚îî‚îÄ‚îÄ test_websocket_bridge.py
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md
```

### –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
- ‚úÖ –°–æ–∑–¥–∞–Ω–æ –æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∫–æ–¥–∞ `mgsrc/mcp_bridge`, –Ω–µ –∑–∞–≤–∏—Å—è—â–µ–µ –æ—Ç –ø—Ä–µ–∂–Ω–µ–≥–æ `src/mcp_server`. ‚Äî –ß–∞—Ç—ã: [chat-25-1109-resume-15-45.md](../bb-chats/chat-25-1109-resume-15-45.md)
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `WebSocketBridge` –Ω–∞ `python-socketio` —Å –∞–≤—Ç–æ–ø–æ–¥–ø–∏—Å–∫–æ–π –Ω–∞ `graph_updates` –∏ `selection_updates`. ‚Äî –ß–∞—Ç—ã: [chat-25-1109-resume-15-45.md](../bb-chats/chat-25-1109-resume-15-45.md)
- ‚úÖ –ö–ª–∞—Å—Å `MCPBridge` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è MCP-–∫–æ–º–∞–Ω–¥ (`push_selection`, `get_selection_snapshot`, `poll_graph_updates`). ‚Äî –ß–∞—Ç—ã: [chat-25-1109-resume-15-45.md](../bb-chats/chat-25-1109-resume-15-45.md)
- ‚úÖ –ù–∞–ø–∏—Å–∞–Ω—ã unit-—Ç–µ—Å—Ç—ã (pytest) –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–±—ã—Ç–∏–π –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—ã–¥–µ–ª–µ–Ω–∏–π. ‚Äî –ß–∞—Ç—ã: [chat-25-1109-resume-15-45.md](../bb-chats/chat-25-1109-resume-15-45.md)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω CLI `mcp_bridge.run_bridge` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–µ–∂–∏–º–æ–≤ `daemon` –∏ `once`. ‚Äî –ß–∞—Ç—ã: *(–±—É–¥–µ—Ç –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –ø–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ MCP)*
- üöß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MCP –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º (`