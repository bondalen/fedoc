{
    "project": {
        "metadata": {
            "name": "fedoc",
            "version": "0.1.0",
            "description": "Централизованная система правил и проектной документации для группы проектов",
            "author": "Александр",
            "created": "2025-01-28",
            "lastUpdated": "2025-10-14",
            "status": "development",
            "repository": "https://github.com/bondalen/fedoc.git",
            "license": "Apache-2.0",
            "keywords": [
                "documentation",
                "project-management",
                "rules",
                "arangodb",
                "mcp-server"
            ],
            "documentationRules": "docs/project-documentation-rules.md"
        },
        "architecture": {
            "type": "infrastructure",
            "pattern": "library-and-service",
            "description": "Инфраструктурный проект для управления документацией группы проектов",
            "components": {
                "database": {
                    "name": "ArangoDB",
                    "version": "3.11",
                    "type": "Multi-Model",
                    "description": "База данных для хранения документации, правил и графов проектов"
                },
                "mcp-server": {
                    "name": "fedoc MCP Server",
                    "version": "0.1.0",
                    "language": "Python 3.10+",
                    "description": "MCP-сервер для интеграции с Cursor AI"
                },
                "graph-viewer": {
                    "name": "ArangoDB Graph Viewer",
                    "version": "0.1.0",
                    "type": "library",
                    "description": "Библиотека для визуализации графов проектов"
                }
            }
        },
        "objects": {
            "description": "Объекты разработки проекта fedoc",
            "database": {
                "name": "ArangoDB",
                "location": "dev/docker/docker-compose.prod.yml",
                "collections": [
                    "projects",
                    "canonical_nodes",
                    "rules",
                    "templates",
                    "project_edges"
                ],
                "graphs": [
                    "common_project_graph"
                ],
                "status": "in-progress"
            },
            "mcp-server": {
                "name": "fedoc MCP Server",
                "location": "src/mcp_server",
                "commands": [
                    "show_graph",
                    "query_graph",
                    "get_project_docs",
                    "list_projects",
                    "get_rules"
                ],
                "status": "in-progress"
            },
            "graph-viewer": {
                "name": "ArangoDB Graph Viewer",
                "location": "src/lib/graph_viewer",
                "components": [
                    "ArangoGraphViewer",
                    "web_viewer"
                ],
                "status": "in-progress"
            }
        },
        "goals": {
            "description": "Цели проекта fedoc",
            "primary": [
                "Создать централизованное хранилище проектной документации и правил для группы проектов",
                "Обеспечить переиспользование наработок между проектами через общую базу знаний",
                "Интегрировать управление документацией в процесс разработки через AI-ассистент (Cursor AI)"
            ],
            "secondary": [
                "Предоставить инструменты визуализации для понимания связей между проектами",
                "Упростить создание новых проектов на основе существующих шаблонов",
                "Обеспечить единообразие документации во всех проектах группы"
            ]
        },
        "principles": {
            "description": "Принципы проекта fedoc",
            "version": "1.0.0",
            "lastUpdated": "2025-10-14",
            "system_principles": {
                "description": "Принципы работы системы (как система работает)",
                "items": [
                    {
                        "id": "sys-001",
                        "title": "Сборка документации через обход графа",
                        "statement": "При обходе общего графа проектов по рёбрам, которым присвоен ключ проекта, собирается полный комплект проектной документации и правил проекта",
                        "rationale": "Модульная архитектура позволяет переиспользовать элементы между проектами, а графовая структура обеспечивает гибкую навигацию",
                        "applicability": [
                            "query",
                            "export",
                            "validation"
                        ],
                        "examples": [
                            "Запрос всех модулей проекта: START Project -> hasModule -> Module",
                            "Сборка правил: START Project -> followsRule -> SystemRule"
                        ],
                        "created": "2025-10-13"
                    },
                    {
                        "id": "sys-002",
                        "title": "Контекстная сборка правил для артефакта",
                        "statement": "При переходе от артефакта, над которым ведётся работа, к связанному элементу общего графа проектов и подъёме по этому графу к корню проекта по рёбрам, которым присвоен ключ проекта, собирается полный комплект правил, которыми надлежит руководствоваться при работе над указанным артефактом",
                        "rationale": "Позволяет получить контекстные правила для конкретного артефакта, учитывая иерархию: Class -> Component -> Module -> Project",
                        "applicability": [
                            "development",
                            "validation",
                            "ai-assistance"
                        ],
                        "examples": [
                            "Для класса DatabaseService: Class -> Component -> Module -> Project (собираются все применимые правила)",
                            "Подъём от задачи через структуру к проекту для сборки контекста"
                        ],
                        "created": "2025-10-13"
                    },
                    {
                        "id": "sys-003",
                        "title": "Интерактивное создание проекта через MCP",
                        "statement": "При создании нового проекта достаточно только установить разработанный MCP-сервер и получить доступ к базе данных, для того чтобы с привлечением AI-ассистента Cursor AI в интерактивном режиме создать полный комплект документации и правил проекта в базе данных методом вопрос-ответ",
                        "rationale": "Снижение порога входа для новых проектов, использование накопленных шаблонов и правил, интерактивная помощь AI",
                        "applicability": [
                            "project-creation",
                            "onboarding",
                            "scaffolding"
                        ],
                        "examples": [
                            "AI задаёт вопросы о типе проекта, технологиях, структуре",
                            "На основе ответов создаются документы в БД с использованием шаблонов",
                            "Автоматическая привязка применимых правил и принципов"
                        ],
                        "created": "2025-10-13"
                    },
                    {
                        "id": "sys-004",
                        "title": "Автоматическая доступность инструментов через MCP",
                        "statement": "После установки MCP-сервера все инструменты проекта (визуализация, запросы, управление) доступны автоматически без дополнительных установок",
                        "rationale": "Упрощает развертывание, обеспечивает единство версий, избегает установки отдельных инструментов для каждого проекта",
                        "applicability": [
                            "deployment",
                            "user-experience",
                            "maintenance"
                        ],
                        "implementation": "Инструменты как библиотеки в src/lib/, интеграция через src/mcp_server/handlers/",
                        "benefits": [
                            "Единая точка установки",
                            "Синхронизация версий",
                            "Интеграция с Cursor AI",
                            "CLI доступен как альтернатива"
                        ],
                        "created": "2025-10-14"
                    },
                    {
                        "id": "sys-005",
                        "title": "Централизация знаний в единой базе",
                        "statement": "Вся проектная документация, правила и наработки хранятся в единой базе данных ArangoDB, доступной всем проектам группы",
                        "rationale": "Обеспечивает переиспользование решений, накопление знаний без потерь, единый источник истины",
                        "applicability": [
                            "knowledge-management",
                            "reusability",
                            "consistency"
                        ],
                        "implementation": "ArangoDB Multi-Model (документы + графы), коллекции: projects, rules, templates, canonical_nodes",
                        "created": "2025-10-14"
                    },
                    {
                        "id": "sys-006",
                        "title": "AI-first подход к взаимодействию",
                        "statement": "Основной способ работы с системой - через AI-ассистент (Cursor AI) с использованием естественного языка",
                        "rationale": "Естественный интерфейс вместо запоминания команд, контекстное понимание задач, автоматическая работа с документацией",
                        "applicability": [
                            "user-interaction",
                            "documentation-access",
                            "development"
                        ],
                        "implementation": "MCP-сервер как интерфейс для Cursor AI, CLI как резервный вариант",
                        "created": "2025-10-14"
                    }
                ]
            },
            "development_principles": {
                "description": "Принципы разработки проектов в системе fedoc",
                "items": [
                    {
                        "id": "dev-001",
                        "title": "Структурная нумерация 01-zz",
                        "statement": "Все структурные элементы проекта (модули, компоненты, классы, задачи) нумеруются по системе 01-zz, обеспечивающей 1295 позиций на уровень иерархии",
                        "rationale": "Компактная и расширяемая система нумерации, избегающая конфликтов при росте проекта. Двухсимвольные ID удобны для чтения и записи",
                        "applicability": [
                            "modules",
                            "components",
                            "classes",
                            "tasks",
                            "trees"
                        ],
                        "rules": {
                            "format": "два символа: 01-99, 0a-9z, a0-z9, aa-zz",
                            "capacity": 1295,
                            "hierarchy": "через точку: 01.02.0a",
                            "reserved": "00 зарезервирован для специальных целей"
                        },
                        "examples": [
                            "Модули: 01 (backend), 02 (frontend), 03 (database)",
                            "Компоненты: 01.01, 01.02, 01.0a",
                            "Задачи: 0001, 0002, ..., 000a"
                        ],
                        "relatedDocs": [
                            "examples/femsq/rules/project-documentation-rules-structural-numbering.md"
                        ],
                        "created": "2025-10-13"
                    },
                    {
                        "id": "dev-002",
                        "title": "Инструменты как библиотеки (DRY)",
                        "statement": "Все инструменты разрабатываются как переиспользуемые библиотеки в src/lib/, интегрируются в MCP и доступны через CLI",
                        "rationale": "Избежать дублирования кода, единая кодовая база для всех способов использования, упрощение поддержки и тестирования",
                        "applicability": [
                            "architecture",
                            "code-organization",
                            "maintenance"
                        ],
                        "implementation": {
                            "structure": "src/lib/ - библиотеки, src/mcp_server/handlers/ - интеграция, dev/tools/ - CLI обёртки",
                            "example": "graph_viewer используется из MCP (handlers/graph_visualizer.py) и CLI (dev/tools/view-graph.sh)"
                        },
                        "benefits": [
                            "Один код для MCP и CLI",
                            "Упрощённое тестирование",
                            "Единая версия инструмента"
                        ],
                        "created": "2025-10-14"
                    },
                    {
                        "id": "dev-003",
                        "title": "Граф как первичная структура данных",
                        "statement": "Связи между элементами представляются в виде направленного ацикличного графа (DAG) в ArangoDB",
                        "rationale": "Естественное представление зависимостей, множественные пути к элементу для сбора правил, визуализация сложных связей",
                        "applicability": [
                            "data-modeling",
                            "relationships",
                            "visualization"
                        ],
                        "implementation": {
                            "database": "ArangoDB нативные графы",
                            "main_graph": "common_project_graph",
                            "collections": [
                                "canonical_nodes",
                                "project_edges"
                            ],
                            "dag_structure": "Из FEMSQ v2.0 - задачи в нескольких деревьях"
                        },
                        "created": "2025-10-14"
                    },
                    {
                        "id": "dev-004",
                        "title": "Документация как код",
                        "statement": "Проектная документация хранится в структурированном формате (JSON) в базе данных для программной обработки",
                        "rationale": "Валидация и проверка целостности, программный доступ, автоматическая генерация производных документов",
                        "applicability": [
                            "documentation",
                            "validation",
                            "automation"
                        ],
                        "implementation": {
                            "formats": [
                                "project-docs.json - архитектура",
                                "project-development.json - планирование (DAG)",
                                "project-journal.json - журнал"
                            ],
                            "validation": "pydantic схемы",
                            "storage": "ArangoDB коллекции"
                        },
                        "created": "2025-10-14"
                    }
                ]
            },
            "architectural_decisions": {
                "description": "Ссылки на архитектурные решения (ADR)",
                "items": [
                    {
                        "id": "001",
                        "title": "Выбор ArangoDB",
                        "document": "docs/project/decisions/001-arangodb-choice.md",
                        "status": "accepted",
                        "date": "2025-01-27"
                    },
                    {
                        "id": "002",
                        "title": "Интеграция через MCP-сервер",
                        "document": "docs/project/decisions/002-mcp-integration.md",
                        "status": "accepted",
                        "date": "2025-10-14"
                    },
                    {
                        "id": "003",
                        "title": "Архитектура graph_viewer",
                        "document": "docs/project/decisions/003-graph-viewer-arch.md",
                        "status": "accepted",
                        "date": "2025-10-14"
                    }
                ]
            }
        },
        "features": {
            "description": "Возможности проекта fedoc",
            "current": [
                {
                    "name": "Визуализация графа проектов",
                    "description": "Интерактивный просмотр связей между проектами, технологиями и компонентами",
                    "component": "graph_viewer",
                    "access": [
                        "MCP команда show_graph",
                        "CLI dev/tools/view-graph.sh"
                    ],
                    "status": "in-progress"
                },
                {
                    "name": "Централизованное хранилище документации",
                    "description": "ArangoDB как единая база для всех проектов группы",
                    "component": "database",
                    "collections": [
                        "projects",
                        "canonical_nodes",
                        "rules",
                        "templates"
                    ],
                    "status": "active"
                },
                {
                    "name": "Интеграция с Cursor AI",
                    "description": "Работа с документацией через AI-ассистент",
                    "component": "mcp-server",
                    "commands": [
                        "show_graph",
                        "query_graph",
                        "get_rules"
                    ],
                    "status": "in-progress"
                }
            ],
            "planned": [
                {
                    "name": "Управление правилами",
                    "description": "Создание, редактирование и применение правил к артефактам",
                    "priority": "high"
                },
                {
                    "name": "Генерация проектов из шаблонов",
                    "description": "Создание нового проекта на основе существующих",
                    "priority": "high"
                },
                {
                    "name": "Автоматический сбор правил по графу",
                    "description": "AI-ассистент собирает все релевантные правила для артефакта",
                    "priority": "medium"
                }
            ]
        }
    }
}

