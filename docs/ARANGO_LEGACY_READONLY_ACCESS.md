# ArangoDB Legacy Read-Only Access

## ‚ö†Ô∏è –°—Ç–∞—Ç—É—Å
**ArangoDB –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ FEDoc —Å –≤–µ—Ä—Å–∏–∏ 2025-10-18.**

–í—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±—ã–ª–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –Ω–∞ **PostgreSQL + Apache AGE**.

## üìñ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å read-only –¥–æ—Å—Ç—É–ø –∫ legacy-–¥–∞–Ω–Ω—ã–º ArangoDB –¥–ª—è:
- –ü—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –û—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–±–ª–µ–º, –≤–æ–∑–Ω–∏–∫—à–∏—Ö –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

## üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ArangoDB

### –í–∞—Ä–∏–∞–Ω—Ç 1: SSH —Ç—É–Ω–Ω–µ–ª—å + ArangoDB Web UI
```bash
# –°–æ–∑–¥–∞—Ç—å SSH —Ç—É–Ω–Ω–µ–ª—å –Ω–∞ –ø–æ—Ä—Ç 8529
ssh -f -N -L 8529:localhost:8529 fedoc-server

# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
http://localhost:8529
```

**–£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- **Username:** `root`
- **Password:** *(–∑–∞–ø—Ä–æ—Å–∏—Ç–µ —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)*
- **Database:** `fedoc`

### –í–∞—Ä–∏–∞–Ω—Ç 2: Python-—Å–∫—Ä–∏–ø—Ç (read-only)
```python
from arango import ArangoClient

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ SSH —Ç—É–Ω–Ω–µ–ª—å
client = ArangoClient(hosts='http://localhost:8529')
db = client.db('fedoc', username='root', password='YOUR_PASSWORD')

# –ß—Ç–µ–Ω–∏–µ —É–∑–ª–æ–≤
nodes = list(db.collection('canonical_nodes').all())
print(f"–í—Å–µ–≥–æ —É–∑–ª–æ–≤: {len(nodes)}")

# –ß—Ç–µ–Ω–∏–µ —Ä—ë–±–µ—Ä
edges = list(db.collection('project_relations').all())
print(f"–í—Å–µ–≥–æ —Ä—ë–±–µ—Ä: {len(edges)}")

# –ß—Ç–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤
projects = list(db.collection('projects').all())
print(f"–í—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–æ–≤: {len(projects)}")
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: cURL (–¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)
```bash
# –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–ª–ª–µ–∫—Ü–∏–π
curl -u root:PASSWORD http://localhost:8529/_db/fedoc/_api/collection

# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —É–∑–ª—ã (–ø–µ—Ä–≤—ã–µ 100)
curl -u root:PASSWORD http://localhost:8529/_db/fedoc/_api/simple/all \
  -X PUT -H "Content-Type: application/json" \
  -d '{"collection":"canonical_nodes","limit":100}'
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö ArangoDB

### –ö–æ–ª–ª–µ–∫—Ü–∏–∏
1. **`canonical_nodes`** - –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ —É–∑–ª—ã –≥—Ä–∞—Ñ–∞ (39 —É–∑–ª–æ–≤)
   - `_key`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á —É–∑–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `c:project`, `t:java`)
   - `name`: –ù–∞–∑–≤–∞–Ω–∏–µ —É–∑–ª–∞
   - `kind`: –¢–∏–ø —É–∑–ª–∞ (category, technology, version)

2. **`project_relations`** - –†—ë–±—Ä–∞ –≥—Ä–∞—Ñ–∞ (34 —Ä–µ–±—Ä–∞)
   - `_from`: ID –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —É–∑–ª–∞
   - `_to`: ID —Ü–µ–ª–µ–≤–æ–≥–æ —É–∑–ª–∞
   - `projects`: –ú–∞—Å—Å–∏–≤ –ø—Ä–æ–µ–∫—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö —ç—Ç—É —Å–≤—è–∑—å
   - `relationType`: –¢–∏–ø —Å–≤—è–∑–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "related", "alternative")

3. **`projects`** - –î–æ–∫—É–º–µ–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–æ–≤ (4 –¥–æ–∫—É–º–µ–Ω—Ç–∞)
   - `_key`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `fedoc`, `fepro`)
   - `name`: –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
   - `description`: –û–ø–∏—Å–∞–Ω–∏–µ
   - *(–¥—Ä—É–≥–∏–µ –ø–æ–ª—è)*

4. **`rules`** - –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ (10 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)
   - `_key`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á –ø—Ä–∞–≤–∏–ª–∞
   - `name`: –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞
   - `data`: JSONB-–¥–∞–Ω–Ω—ã–µ

## üîÑ –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å PostgreSQL

### –ì—Ä–∞—Ñ (canonical_nodes ‚Üí project_relations)
**ArangoDB:**
```aql
FOR v, e, p IN 1..5 OUTBOUND 'canonical_nodes/c:project'
  project_relations
  RETURN {vertex: v, edge: e}
```

**PostgreSQL + AGE:**
```sql
SELECT * FROM ag_catalog.get_graph_for_viewer('c:project', 5);
```

### –î–æ–∫—É–º–µ–Ω—Ç—ã (projects, rules)
**ArangoDB:**
```javascript
db.projects.document('fedoc')
```

**PostgreSQL:**
```sql
SELECT * FROM projects WHERE key = 'fedoc';
```

## üö´ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### Read-Only —Ä–µ–∂–∏–º
**‚ö†Ô∏è –í–ê–ñ–ù–û:** ArangoDB –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¢–û–õ–¨–ö–û –¥–ª—è —á—Ç–µ–Ω–∏—è.

**–ù–ï –í–´–ü–û–õ–ù–Ø–ô–¢–ï:**
- `INSERT`, `UPDATE`, `DELETE` –æ–ø–µ—Ä–∞—Ü–∏–∏
- –°–æ–∑–¥–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–π
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤
- –õ—é–±—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–∏—á–∏–Ω–∞:** –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ —á–µ—Ä–µ–∑ PostgreSQL. ArangoDB - —ç—Ç–æ —Ç–æ–ª—å–∫–æ legacy-–∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö.

## üõ†Ô∏è –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å legacy-–¥–∞–Ω–Ω—ã–º–∏

### –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
```bash
# –°—Ä–∞–≤–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤
python scripts/check-arango-data.py

# –í—ã–≤–æ–¥:
# ArangoDB nodes: 39
# PostgreSQL nodes: 39
# ‚úì –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ
```

### –°–∫—Ä–∏–ø—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
# –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ ArangoDB –≤ JSON
python scripts/export-arango-to-json.py --output /tmp/arango-backup.json
```

## üìù –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ArangoDB legacy-–¥–æ—Å—Ç—É–ø

### ‚úÖ –•–æ—Ä–æ—à–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
- –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –µ—Å—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è)
- –û—Ç–ª–∞–¥–∫–∞ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π –º–µ–∂–¥—É —Å—Ç–∞—Ä—ã–º–∏ –∏ –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –ê–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö

### ‚ùå –ü–ª–æ—Ö–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ArangoDB –¥–ª—è production-–æ–ø–µ—Ä–∞—Ü–∏–π
- –ó–∞–ø–∏—Å—å –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ ArangoDB
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É ArangoDB –∏ PostgreSQL
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ArangoDB –∫–∞–∫ primary-–∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö

## üóëÔ∏è –ü–ª–∞–Ω –≤—ã–≤–æ–¥–∞ –∏–∑ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –¢–µ–∫—É—â–∞—è (–¥–æ 2025-12-31)
- ArangoDB –¥–æ—Å—Ç—É–ø–µ–Ω –≤ read-only —Ä–µ–∂–∏–º–µ
- PostgreSQL - primary –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- –í—Å–µ –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–¥—É—Ç –≤ PostgreSQL

### –§–∞–∑–∞ 2: –ê—Ä—Ö–∏–≤–∞—Ü–∏—è (2026-01-01 - 2026-03-31)
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ dump ArangoDB
- –ü–µ—Ä–µ–Ω–æ—Å dump –Ω–∞ –∞—Ä—Ö–∏–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- –û—Ç–∫–ª—é—á–µ–Ω–∏–µ ArangoDB –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∞ production

### –§–∞–∑–∞ 3: –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (–ø–æ—Å–ª–µ 2026-04-01)
- –£–¥–∞–ª–µ–Ω–∏–µ ArangoDB –∏–∑ Docker Compose
- –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π `python-arango` –∏–∑ `requirements.txt`
- –£–¥–∞–ª–µ–Ω–∏–µ legacy-—Å–∫—Ä–∏–ø—Ç–æ–≤ –º–∏–≥—Ä–∞—Ü–∏–∏

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã
–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –∫ legacy-–¥–∞–Ω–Ω—ã–º ArangoDB:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ PostgreSQL
2. –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–¥–∞—á—É —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º, –∑–∞—á–µ–º –Ω—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø
3. –ó–∞–ø—Ä–æ—Å–∏—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

---
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-10-20  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-10-20


