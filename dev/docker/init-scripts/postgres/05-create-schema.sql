-- ============================================================================
-- Создание схемы графа common_project_graph
-- Вершины (vertices) и метки (labels)
-- ============================================================================

\echo '================================================'
\echo 'Создание схемы графа'
\echo '================================================'

\c fedoc

SET search_path = ag_catalog, "$user", public;

\echo '10. Схема графа готова к использованию'
\echo ''

-- Примечание: В Apache AGE метки (labels) создаются автоматически
-- при первом использовании в Cypher запросах.
-- Например:
--   CREATE (n:canonical_node {name: 'test'})
-- автоматически создаст метку "canonical_node" если её нет

\echo '================================================'
\echo 'Схема графа создана успешно!'
\echo '================================================'
\echo ''
\echo 'Структура:'
\echo '  Граф: common_project_graph'
\echo '  Метки создаются автоматически при использовании'
\echo ''
\echo 'Пример создания вершины:'
\echo '  SELECT * FROM cypher(''common_project_graph'', $q$'
\echo '    CREATE (n:canonical_node {name: ''Backend'', kind: ''concept''})'
\echo '    RETURN n'
\echo '  $q$) as (n agtype);'
\echo ''
\echo 'Готово к миграции данных из ArangoDB!'
\echo ''
