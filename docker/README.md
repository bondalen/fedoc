# Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è fedoc

–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Ç—Ä–µ—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ —á–µ—Ä–µ–∑ Docker Compose.

## üóÑÔ∏è –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

| –ë–î | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | RAM | –ü–æ—Ä—Ç | –†–µ–∂–∏–º |
|----|-----------|-----|------|-------|
| **ArangoDB** | fedoc (Multi-Model) | ~600 MB | 8529 | üéØ –ü–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é |
| **PostgreSQL** | –û–±—â–∏–µ –ø—Ä–æ–µ–∫—Ç—ã | ~400 MB | 5432 | üéØ –ü–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é |
| **MS SQL Server** | FEMSQ –∏ –¥—Ä. | ~1.5-2 GB | 1433 | üéØ –ü–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é |

**–í—Å–µ –ë–î –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å –∏ —ç–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤!

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω .env
cp .env.example .env

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª–∏
nano .env

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∞
chmod 600 .env
chmod +x db-manager.sh
```

### 2. –ó–∞–ø—É—Å–∫

```bash
# –ë–∞–∑–æ–≤—ã–µ –ë–î (ArangoDB + PostgreSQL)
./db-manager.sh start

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
./db-manager.sh status
```

### 3. –î–æ—Å—Ç—É–ø

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
./db-manager.sh connections

# Web UI ArangoDB (—á–µ—Ä–µ–∑ SSH —Ç—É–Ω–Ω–µ–ª—å)
ssh -L 8529:localhost:8529 user1@176.108.244.252 -N
# –ó–∞—Ç–µ–º: http://localhost:8529
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
docker/
‚îú‚îÄ‚îÄ docker-compose.prod.yml   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –ë–î
‚îú‚îÄ‚îÄ .env.example               # –®–∞–±–ª–æ–Ω –ø–∞—Ä–æ–ª–µ–π
‚îú‚îÄ‚îÄ .env                       # –†–µ–∞–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ (–Ω–µ –≤ git!)
‚îú‚îÄ‚îÄ db-manager.sh              # –°–∫—Ä–∏–ø—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–î
‚îú‚îÄ‚îÄ DEPLOYMENT.md              # –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
‚îú‚îÄ‚îÄ README.md                  # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îÇ
‚îú‚îÄ‚îÄ init-scripts/              # –°–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ arango/               # JavaScript –¥–ª—è ArangoDB
‚îÇ   ‚îú‚îÄ‚îÄ postgres/             # SQL –¥–ª—è PostgreSQL
‚îÇ   ‚îî‚îÄ‚îÄ mssql/                # SQL –¥–ª—è MS SQL Server
‚îÇ
‚îú‚îÄ‚îÄ arango-data/              # –î–∞–Ω–Ω—ã–µ ArangoDB (–Ω–µ –≤ git!)
‚îú‚îÄ‚îÄ postgres-data/            # –î–∞–Ω–Ω—ã–µ PostgreSQL (–Ω–µ –≤ git!)
‚îú‚îÄ‚îÄ mssql-data/               # –î–∞–Ω–Ω—ã–µ MS SQL (–Ω–µ –≤ git!)
‚îî‚îÄ‚îÄ backups/                  # –ë—ç–∫–∞–ø—ã –ë–î (–Ω–µ –≤ git!)
```

## üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ (–≤—Å–µ –ë–î –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é)
```bash
./db-manager.sh start           # ArangoDB + PostgreSQL
./db-manager.sh start-arango    # –¢–æ–ª—å–∫–æ ArangoDB
./db-manager.sh start-postgres  # –¢–æ–ª—å–∫–æ PostgreSQL
./db-manager.sh start-mssql     # –¢–æ–ª—å–∫–æ MS SQL
./db-manager.sh start-all       # –í—Å–µ –ë–î —Å—Ä–∞–∑—É
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
./db-manager.sh stop            # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ
./db-manager.sh stop-arango     # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ArangoDB
./db-manager.sh stop-postgres   # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL
./db-manager.sh stop-mssql      # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å MS SQL
```

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
```bash
./db-manager.sh status          # –°—Ç–∞—Ç—É—Å –∏ —Ä–µ—Å—É—Ä—Å—ã
./db-manager.sh connections     # –î–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
./db-manager.sh monitor         # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
./db-manager.sh logs <service>  # –õ–æ–≥–∏
```

### –ë—ç–∫–∞–ø—ã
```bash
./db-manager.sh backup all      # –í—Å–µ –ë–î
./db-manager.sh backup arangodb # –¢–æ–ª—å–∫–æ ArangoDB
```

### –°–ø—Ä–∞–≤–∫–∞
```bash
./db-manager.sh help
```

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[DEPLOYMENT.md](DEPLOYMENT.md)** - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- **[docker-compose.prod.yml](docker-compose.prod.yml)** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker

## üîß –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–µ–∂–∏–º—ã (–∑–∞–ø—É—Å–∫ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é)

### –†–µ–∂–∏–º 0: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π
```bash
# –ù–∏—á–µ–≥–æ –Ω–µ –∑–∞–ø—É—â–µ–Ω–æ - 0 MB RAM
```

### –†–µ–∂–∏–º 1: –†–∞–±–æ—Ç–∞ —Å fedoc
```bash
./db-manager.sh start-arango  # –¢–æ–ª—å–∫–æ ArangoDB
```
–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: ~600 MB RAM

### –†–µ–∂–∏–º 2: –†–∞–±–æ—Ç–∞ —Å PostgreSQL –ø—Ä–æ–µ–∫—Ç–∞–º–∏
```bash
./db-manager.sh start-postgres  # –¢–æ–ª—å–∫–æ PostgreSQL
```
–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: ~400 MB RAM

### –†–µ–∂–∏–º 3: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
```bash
./db-manager.sh start  # ArangoDB + PostgreSQL
```
–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: ~1 GB RAM

### –†–µ–∂–∏–º 4: –° FEMSQ
```bash
./db-manager.sh start-mssql  # –î–æ–±–∞–≤–∏—Ç—å MS SQL
# –†–∞–±–æ—Ç–∞...
./db-manager.sh stop-mssql   # –û—Å–≤–æ–±–æ–¥–∏—Ç—å RAM
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ –ë–î –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —Å localhost (127.0.0.1)
- –ü–∞—Ä–æ–ª–∏ –≤ .env (–ø—Ä–∞–≤–∞ 600, –Ω–µ –≤ git)
- –î–∞–Ω–Ω—ã–µ –≤ volumes (–Ω–µ –≤ git)
- –ü–æ—Ä—Ç—ã –∑–∞–∫—Ä—ã—Ç—ã –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞

## üìä –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | RAM | –°–≤–æ–±–æ–¥–Ω–æ |
|-------------|-----|----------|
| ArangoDB + PostgreSQL | ~1 GB | ~2.8 GB ‚úÖ |
| + MS SQL Server | ~2.6 GB | ~800 MB ‚ö†Ô∏è |

## üÜò Troubleshooting

–°–º. —Ä–∞–∑–¥–µ–ª [Troubleshooting –≤ DEPLOYMENT.md](DEPLOYMENT.md#8-troubleshooting)

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞:** 2025-10-11

