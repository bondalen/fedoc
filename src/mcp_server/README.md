# fedoc MCP Server

MCP-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ fedoc —Å Cursor AI.

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ fedoc —á–µ—Ä–µ–∑ Model Context Protocol (MCP):
- ‚úÖ **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–æ–≤ –ø—Ä–æ–µ–∫—Ç–æ–≤** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π Graph Viewer
- üöß –ó–∞–ø—Ä–æ—Å—ã –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- üöß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º–∏
- üöß –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
cd src/mcp_server
pip install -r requirements.txt
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ `.cursor/mcp.json`:

```json
{
  "mcpServers": {
    "fedoc": {
      "command": "python",
      "args": ["/home/alex/projects/rules/fedoc/src/mcp_server/server.py"],
      "env": {
        "ARANGO_HOST": "http://localhost:8529",
        "ARANGO_DB": "fedoc",
        "ARANGO_USER": "root",
        "ARANGO_PASSWORD": "aR@ng0Pr0d2025xK9mN8pL"
      },
      "description": "fedoc MCP - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π"
    }
  }
}
```

## üìã –ö–æ–º–∞–Ω–¥—ã

### ‚úÖ open_graph_viewer
**–û—Ç–∫—Ä—ã—Ç—å —Å–∏—Å—Ç–µ–º—É –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ**

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç/—Å–æ–∑–¥–∞–µ—Ç SSH —Ç—É–Ω–Ω–µ–ª—å –∫ ArangoDB
2. –ó–∞–ø—É—Å–∫–∞–µ—Ç API —Å–µ—Ä–≤–µ—Ä (–µ—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω)
3. –ó–∞–ø—É—Å–∫–∞–µ—Ç Vite dev —Å–µ—Ä–≤–µ—Ä (–µ—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω)
4. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `project` (str, optional): –§–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–æ–µ–∫—Ç—É (fepro, femsq, fedoc) –∏–ª–∏ None –¥–ª—è –≤—Å–µ—Ö
- `auto_open_browser` (bool): –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä (default: True)

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Cursor AI:**
```
–û—Ç–∫—Ä–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–æ–º
–ó–∞–ø—É—Å—Ç–∏ graph viewer –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ FEPRO
–ü–æ–∫–∞–∂–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é
```

**Python API:**
```python
from mcp_server.handlers.graph_viewer_manager import open_graph_viewer

# –û—Ç–∫—Ä—ã—Ç—å –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
open_graph_viewer()

# –û—Ç–∫—Ä—ã—Ç—å –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
open_graph_viewer(project='fepro')

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–µ–∑ –æ—Ç–∫—Ä—ã—Ç–∏—è –±—Ä–∞—É–∑–µ—Ä–∞
open_graph_viewer(auto_open_browser=False)
```

---

### ‚úÖ graph_viewer_status
**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Graph Viewer**

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å:
- SSH —Ç—É–Ω–Ω–µ–ª—è
- ArangoDB –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- API —Å–µ—Ä–≤–µ—Ä–∞
- Vite dev —Å–µ—Ä–≤–µ—Ä–∞

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Cursor AI:**
```
–ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å graph viewer
–†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è?
```

**Python API:**
```python
from mcp_server.handlers.graph_viewer_manager import graph_viewer_status

status = graph_viewer_status()
print(status)
```

---

### ‚úÖ stop_graph_viewer
**–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∞**

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `stop_tunnel` (bool): –¢–∞–∫–∂–µ –∑–∞–∫—Ä—ã—Ç—å SSH —Ç—É–Ω–Ω–µ–ª—å (default: False)
- `force` (bool): –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (default: False)

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Cursor AI:**
```
–û—Å—Ç–∞–Ω–æ–≤–∏ graph viewer
–í—ã–∫–ª—é—á–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é
–ó–∞–∫—Ä–æ–π graph viewer –∏ —Ç—É–Ω–Ω–µ–ª—å
```

**Python API:**
```python
from mcp_server.handlers.graph_viewer_manager import stop_graph_viewer

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å—ã (—Ç—É–Ω–Ω–µ–ª—å –æ—Å—Ç–∞–≤–∏—Ç—å)
stop_graph_viewer()

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –≤–∫–ª—é—á–∞—è —Ç—É–Ω–Ω–µ–ª—å
stop_graph_viewer(stop_tunnel=True)

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
stop_graph_viewer(force=True)
```

---

### üöß query_graph (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
–í—ã–ø–æ–ª–Ω–∏—Ç—å AQL –∑–∞–ø—Ä–æ—Å –∫ –≥—Ä–∞—Ñ—É

### üöß get_node_info (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —É–∑–ª–µ –≥—Ä–∞—Ñ–∞

### üöß export_graph (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö

### üöß get_project_docs (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
–ü–æ–ª—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞

### üöß list_projects (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

### üöß get_rules (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –≠—Ç–∞–ø 1 –∑–∞–≤–µ—Ä—à–µ–Ω

**–¢–µ–∫—É—â–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Graph Viewer
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SSH —Ç—É–Ω–Ω–µ–ª—è–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ (API + Vite)
- ‚úÖ 3 —Ä–∞–±–æ—á–∏—Ö –∫–æ–º–∞–Ω–¥—ã (open, status, stop)
- ‚è≥ –ü–æ–ª–Ω—ã–π MCP –ø—Ä–æ—Ç–æ–∫–æ–ª (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- ‚è≥ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (query, export, analysis)

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
src/
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îî‚îÄ‚îÄ graph_viewer/
‚îÇ       ‚îú‚îÄ‚îÄ backend/              # Python –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ api_server.py    # REST API
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ tunnel_manager.py # SSH —Ç—É–Ω–Ω–µ–ª–∏
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ process_manager.py # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
‚îÇ       ‚îî‚îÄ‚îÄ frontend/             # Vue.js –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ
‚îî‚îÄ‚îÄ mcp_server/
    ‚îú‚îÄ‚îÄ handlers/
    ‚îÇ   ‚îî‚îÄ‚îÄ graph_viewer_manager.py  # MCP –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
    ‚îî‚îÄ‚îÄ server.py                    # MCP —Å–µ—Ä–≤–µ—Ä
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. —Ç–∞–∫–∂–µ:
- [–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ graph_viewer](../lib/graph_viewer/README.md)
- [–ü—Ä–æ–µ–∫—Ç–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](../../docs/project/project-docs.json)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è](../../docs/project/decisions/)
