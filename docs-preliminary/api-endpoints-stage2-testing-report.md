# –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –≠—Ç–∞–ø–∞ 2: –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏ —Ä—ë–±–µ—Ä

**–î–∞—Ç–∞:** 2025-11-03  
**–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ endpoints:** –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ API  
**API Server:** `http://localhost:15000`

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Endpoint 1: `POST /api/edges/batch-add-projects` ‚úÖ

**–¢–µ—Å—Ç 1.1: –ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Ä—ë–±—Ä–∞–º**
- **URL:** `POST /api/edges/batch-add-projects`
- **Body:**
```json
{
    "edge_ids": [1125899906842627, 1125899906842642, 1125899906842649],
    "project_key": "femsq"
}
```
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **PASSED**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
    "added": 3,
    "errors": [],
    "project_key": "femsq",
    "results": [
        {
            "edge_id": 1125899906842627,
            "status": "added"
        },
        {
            "edge_id": 1125899906842642,
            "status": "added"
        },
        {
            "edge_id": 1125899906842649,
            "status": "added"
        }
    ],
    "skipped": 0,
    "success": true,
    "total": 3
}
```
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ü—Ä–æ–µ–∫—Ç `femsq` —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω –∫–æ –≤—Å–µ–º —Ç—Ä—ë–º —Ä—ë–±—Ä–∞–º ‚úÖ
- **–í—ã–≤–æ–¥:** Endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –º–∞—Å—Å–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ.

**–¢–µ—Å—Ç 1.2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ä–µ–±—Ä–∞ –≤ –º–∞—Å—Å–∏–≤–µ**
- **URL:** `POST /api/edges/batch-add-projects`
- **Body:**
```json
{
    "edge_ids": [999999999],
    "project_key": "fepro"
}
```
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **PASSED**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
    "added": 0,
    "errors": [
        {
            "edge_id": 999999999,
            "error": "–†–µ–±—Ä–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"
        }
    ],
    "project_key": "fepro",
    "results": [],
    "skipped": 0,
    "success": true,
    "total": 1
}
```
- **–í—ã–≤–æ–¥:** –û—à–∏–±–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –º–∞—Å—Å–∏–≤ –æ—à–∏–±–æ–∫, –æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ä—ë–±–µ—Ä.

**–¢–µ—Å—Ç 1.3: –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Å—Ç–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞**
- **URL:** `POST /api/edges/batch-add-projects`
- **Body:**
```json
{}
```
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **PASSED**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
    "error": "–ü—É—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å",
    "success": false
}
```
- **–í—ã–≤–æ–¥:** –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

---

### Endpoint 2: `POST /api/edges/batch-remove-projects` ‚úÖ

**–¢–µ—Å—Ç 2.1: –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä—ë–±–µ—Ä**
- **URL:** `POST /api/edges/batch-remove-projects`
- **Body:**
```json
{
    "edge_ids": [1125899906842627, 1125899906842642],
    "project_key": "femsq"
}
```
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **PASSED**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
    "errors": [],
    "not_found": 0,
    "project_key": "femsq",
    "removed": 2,
    "success": true,
    "total": 2
}
```
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ü—Ä–æ–µ–∫—Ç `femsq` —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª—ë–Ω –∏–∑ –æ–±–æ–∏—Ö —Ä—ë–±–µ—Ä ‚úÖ
- **–í—ã–≤–æ–¥:** Endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –º–∞—Å—Å–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ.

---

## üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| Endpoint | –¢–µ—Å—Ç—ã | Passed | Failed | –ó–∞–º–µ—á–∞–Ω–∏—è |
|----------|-------|--------|--------|-----------|
| `POST /api/edges/batch-add-projects` | 3 | 3 | 0 | - |
| `POST /api/edges/batch-remove-projects` | 1 | 1 | 0 | - |
| **–ò–¢–û–ì–û** | **4** | **4** | **0** | - |

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–í–°–ï ENDPOINTS –†–ê–ë–û–¢–ê–Æ–¢**

–û–±–∞ endpoint –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã.

---

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ü—Ä–∏ –æ—à–∏–±–∫–µ –≤ –æ–¥–Ω–æ–º —Ä–µ–±—Ä–µ –æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –µ–¥–∏–Ω–æ–º –æ—Ç–≤–µ—Ç–µ

### 2. –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: `total`, `added`/`removed`, `skipped`, `not_found`
- –ú–∞—Å—Å–∏–≤ `errors` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –æ—à–∏–±–∫–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ `edge_id`
- –ú–∞—Å—Å–∏–≤ `results` —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ç–∞–ª–∏ –ø–æ –∫–∞–∂–¥–æ–º—É –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–º—É —Ä–µ–±—Ä—É

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä—ë–±—Ä–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –º–∞—Å—Å–∏–≤ –æ—à–∏–±–æ–∫
- –û–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ –≤ –æ–¥–Ω–æ–º —Ä–µ–±—Ä–µ
- –í—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ **–≠—Ç–∞–ø 1 –∑–∞–≤–µ—Ä—à—ë–Ω** - API endpoints –¥–ª—è –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
2. ‚úÖ **–≠—Ç–∞–ø 2 –∑–∞–≤–µ—Ä—à—ë–Ω** - API endpoints –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
3. ‚è≠Ô∏è **–≠—Ç–∞–ø 3** - –°–æ–∑–¥–∞–Ω–∏–µ MCP Handler –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤—ã–º–∏ endpoints
4. ‚è≠Ô∏è **–≠—Ç–∞–ø 4** - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è MCP –∫–æ–º–∞–Ω–¥ –≤ server.py

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–≠—Ç–∞–ø 2 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à—ë–Ω!** –í—Å–µ endpoints –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π.

