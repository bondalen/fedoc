# ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ —Ä–∞–±–æ—Ç—ã —Å —Ä—ë–±—Ä–∞–º–∏ - –£–°–ü–ï–®–ù–û

**–î–∞—Ç–∞:** 2025-10-20  
**–í—Ä–µ–º—è:** 21:30  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–ê–ï–¢

---

## üéØ –ó–∞–¥–∞—á–∞

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é arango-style –∫–ª—é—á–µ–π –≤ AGE IDs –¥–ª—è —Ä–∞–±–æ—Ç—ã –∫–æ–º–∞–Ω–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä—ë–±—Ä–∞–º–∏ —á–µ—Ä–µ–∑ MCP.

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã

### 1. –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∫–ª—é—á–µ–π –≤ AGE IDs

**–§–∞–π–ª:** `src/lib/graph_viewer/backend/api_server_age.py:170-251`

**–§—É–Ω–∫—Ü–∏–∏:**
- `convert_node_key_to_age_id(node_identifier)` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —É–∑–ª–æ–≤
- `convert_edge_key_to_age_id(edge_identifier)` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ä—ë–±–µ—Ä

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
```python
# –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:
convert_node_key_to_age_id("canonical_nodes/c:backend")  ‚Üí 844424930131972
convert_node_key_to_age_id("c:backend")                  ‚Üí 844424930131972
convert_node_key_to_age_id("844424930131972")            ‚Üí 844424930131972 (—É–∂–µ ID)
```

**–õ–æ–≥–∏–∫–∞:**
1. –ü—Ä–æ–±—É–µ—Ç —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –∫–∞–∫ —á–∏—Å–ª–æ (—É–∂–µ AGE ID)
2. –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–ª—é—á –∏–∑ arango-style ID
3. –í—ã–ø–æ–ª–Ω—è–µ—Ç Cypher –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è AGE ID –ø–æ –∫–ª—é—á—É
4. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —á–∏—Å–ª–æ–≤–æ–π AGE ID

---

### 2. –û–±–Ω–æ–≤–ª—ë–Ω EdgeValidatorAGE –¥–ª—è FORMAT()

**–§–∞–π–ª:** `src/lib/graph_viewer/backend/edge_validator_age.py`

**–ü—Ä–æ–±–ª–µ–º–∞:**  
Apache AGE 1.6.0 –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ `Json()` –≤ Cypher –∑–∞–ø—Ä–æ—Å–∞—Ö.

**–†–µ—à–µ–Ω–∏–µ:**  
–ü–µ—Ä–µ–ø–∏—Å–∞–Ω—ã –≤—Å–µ –º–µ—Ç–æ–¥—ã –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ f-—Å—Ç—Ä–æ–∫ (FORMAT):

#### 2.1. check_edge_uniqueness (—Å—Ç—Ä–æ–∫–∏ 45-76)
**–ë—ã–ª–æ:**
```python
query = """
SELECT * FROM cypher(%s, $$
    MATCH (a)-[e]->(b)
    WHERE (id(a) = $from_id AND id(b) = $to_id)
    ...
$$, %s) as (...)
"""
params = (graph_name, Json({'from_id': ...}))
cur.execute(query, params)
```

**–°—Ç–∞–ª–æ:**
```python
query = f"""
SELECT * FROM cypher('{self.graph_name}', $$
    MATCH (a)-[e]->(b)
    WHERE (id(a) = {from_vertex_id} AND id(b) = {to_vertex_id})
    ...
$$) as (...)
"""
cur.execute(query)
```

#### 2.2. insert_edge_safely (—Å—Ç—Ä–æ–∫–∏ 129-183)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `format_properties_for_cypher()`
- ‚úÖ –°–≤–æ–π—Å—Ç–≤–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É—é—Ç—Å—è –≤ Cypher —Å–∏–Ω—Ç–∞–∫—Å–∏—Å: `{relationType: "uses", projects: ["fepro"]}`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è f-—Å—Ç—Ä–æ–∫–∞ –≤–º–µ—Å—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

#### 2.3. update_edge_safely (—Å—Ç—Ä–æ–∫–∏ 183-240)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `format_properties_for_cypher()`
- ‚úÖ SET –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ f-—Å—Ç—Ä–æ–∫—É

#### 2.4. delete_edge (—Å—Ç—Ä–æ–∫–∏ 222-242)
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π DELETE —á–µ—Ä–µ–∑ f-—Å—Ç—Ä–æ–∫—É

---

### 3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤–æ –≤—Å–µ—Ö edge endpoints

**–§–∞–π–ª:** `src/lib/graph_viewer/backend/api_server_age.py`

#### 3.1. check_edge_uniqueness (—Å—Ç—Ä–æ–∫–∞ 709-715)
**–ë—ã–ª–æ:**
```python
try:
    from_vertex_id = int(from_id)
    to_vertex_id = int(to_id)
except:
    return error('ID conversion not implemented'), 501
```

**–°—Ç–∞–ª–æ:**
```python
try:
    from_vertex_id = convert_node_key_to_age_id(from_id)
    to_vertex_id = convert_node_key_to_age_id(to_id)
    exclude_id = convert_edge_key_to_age_id(exclude_edge_id) if exclude_edge_id else None
except ValueError as e:
    return error(str(e)), 400
```

#### 3.2. create_edge (—Å—Ç—Ä–æ–∫–∞ 612-617)
**–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `convert_node_key_to_age_id()`

---

### 4. –û–±–Ω–æ–≤–ª—ë–Ω EdgeManagerHandler

**–§–∞–π–ª:** `src/mcp_server/handlers/edge_manager.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–µ—Ñ–æ–ª—Ç–Ω—ã–π –ø–æ—Ä—Ç: `8899 ‚Üí 15000` (—Å—Ç—Ä–æ–∫–∞ 15)
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `create_edge_manager_handler`: `8899 ‚Üí 15000` (—Å—Ç—Ä–æ–∫–∞ 270)

---

### 5. –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã

**api_server_age.py:**
- ‚úÖ `from typing import Optional` (—Å—Ç—Ä–æ–∫–∞ 21)

**edge_validator_age.py:**
- ‚úÖ `import json` (—Å—Ç—Ä–æ–∫–∞ 10)

---

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–±—Ä–∞ ‚úÖ

**–ó–∞–ø—Ä–æ—Å:**
```bash
POST /api/edges
{
  "_from": "c:backend",
  "_to": "t:java",
  "relationType": "uses",
  "projects": ["test_project"]
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "success": true,
  "edge": {
    "edge_id": 1125899906842659,
    "from": 844424930131972,
    "to": 844424930132000,
    "relationType": "uses",
    "projects": ["test_project"]
  }
}
```

**–í—ã–≤–æ–¥:** ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ä–µ–±—Ä–æ —Å–æ–∑–¥–∞–Ω–æ

---

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ (–ø—Ä—è–º–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ) ‚úÖ

**–ó–∞–ø—Ä–æ—Å:**
```bash
POST /api/edges/check
{"_from": "c:backend", "_to": "t:java"}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "is_unique": false,
  "error": "–°–≤—è–∑—å –º–µ–∂–¥—É –≤–µ—Ä—à–∏–Ω–∞–º–∏ 844424930131972 –∏ 844424930132000 
           —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–ø—Ä—è–º–∞—è —Å–≤—è–∑—å, ID: 1125899906842659)"
}
```

**–í—ã–≤–æ–¥:** ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç

---

### –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ (–æ–±—Ä–∞—Ç–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ) ‚úÖ

**–ó–∞–ø—Ä–æ—Å:**
```bash
POST /api/edges/check
{"_from": "t:java", "_to": "c:backend"}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "is_unique": false,
  "error": "–°–≤—è–∑—å –º–µ–∂–¥—É –≤–µ—Ä—à–∏–Ω–∞–º–∏ ... —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å, ID: ...)"
}
```

**–í—ã–≤–æ–¥:** ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–æ–∏—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö (A‚ÜíB –∏ B‚ÜíA)

---

### –¢–µ—Å—Ç 4: –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ–±—Ä–∞ ‚úÖ

**–ó–∞–ø—Ä–æ—Å:**
```bash
DELETE /api/edges/1125899906842659
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "success": true,
  "message": "–†–µ–±—Ä–æ 1125899906842659 —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–æ"
}
```

**–í—ã–≤–æ–¥:** ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### –¢–µ—Å—Ç 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è ‚úÖ

**–ó–∞–ø—Ä–æ—Å:**
```bash
POST /api/edges/check
{"_from": "c:backend", "_to": "t:java"}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "is_unique": true,
  "error": null
}
```

**–í—ã–≤–æ–¥:** ‚úÖ –ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è —Å–≤—è–∑—å —Å–Ω–æ–≤–∞ —É–Ω–∏–∫–∞–ª—å–Ω–∞

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (3):

1. **api_server_age.py** - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏, –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –≤ endpoints
   - –î–æ–±–∞–≤–ª–µ–Ω–æ: ~85 —Å—Ç—Ä–æ–∫
   - –ò–∑–º–µ–Ω–µ–Ω–æ: ~20 —Å—Ç—Ä–æ–∫

2. **edge_validator_age.py** - –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –Ω–∞ FORMAT() –≤–º–µ—Å—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
   - –î–æ–±–∞–≤–ª–µ–Ω–æ: ~45 —Å—Ç—Ä–æ–∫ (—Ñ—É–Ω–∫—Ü–∏—è format_properties_for_cypher)
   - –ò–∑–º–µ–Ω–µ–Ω–æ: ~80 —Å—Ç—Ä–æ–∫ (–≤—Å–µ –º–µ—Ç–æ–¥—ã)

3. **edge_manager.py** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –ø–æ—Ä—Ç
   - –ò–∑–º–µ–Ω–µ–Ω–æ: 2 —Å—Ç—Ä–æ–∫–∏

### –í—Å–µ–≥–æ:
- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** ~130 —Å—Ç—Ä–æ–∫
- **–ò–∑–º–µ–Ω–µ–Ω–æ:** ~100 —Å—Ç—Ä–æ–∫
- **–§–∞–π–ª–æ–≤:** 3

---

## üéØ –†–∞–±–æ—Ç–∞—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### ‚úÖ –ü—Ä—è–º—ã–µ API –≤—ã–∑–æ–≤—ã —Ä–∞–±–æ—Ç–∞—é—Ç:

| Endpoint | –ú–µ—Ç–æ–¥ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|----------|-------|--------|------------|
| `/api/edges/check` | POST | ‚úÖ | –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ |
| `/api/edges` | POST | ‚úÖ | –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–±—Ä–∞ |
| `/api/edges/<id>` | DELETE | ‚úÖ | –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ–±—Ä–∞ |
| `/api/edges/<id>` | PUT | üî≤ | –ù–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω |

### –§–æ—Ä–º–∞—Ç—ã –∫–ª—é—á–µ–π:

–ü—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –≤—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã:
- ‚úÖ Arango-style ID: `"canonical_nodes/c:backend"`
- ‚úÖ –ö–æ—Ä–æ—Ç–∫–∏–π –∫–ª—é—á: `"c:backend"`
- ‚úÖ –ß–∏—Å–ª–æ–≤–æ–π AGE ID: `"844424930131972"`

### –í–∞–ª–∏–¥–∞—Ü–∏—è:

- ‚úÖ –ü—Ä—è–º–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: `A ‚Üí B`
- ‚úÖ –û–±—Ä–∞—Ç–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: `B ‚Üí A`
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –£–∫–∞–∑–∞–Ω–∏–µ ID —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ä–µ–±—Ä–∞

---

## ‚ö†Ô∏è MCP –∫–æ–º–∞–Ω–¥—ã - —Ç—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ Cursor

–ö–æ–º–∞–Ω–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç EdgeManagerHandler —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –ø–æ—Ä—Ç–æ–º (15000).

**–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ Cursor –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:**
- `add_edge` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–±—Ä–∞
- `update_edge` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–±—Ä–∞
- `delete_edge` - —É–¥–∞–ª–µ–Ω–∏–µ —Ä–µ–±—Ä–∞
- `check_edge_uniqueness` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏

---

## üß™ –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π (–ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª)

### 1. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–±—Ä–∞:
```bash
POST /api/edges
{"_from": "c:backend", "_to": "t:java", "relationType": "uses", "projects": ["test"]}

–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ edge_id: 1125899906842659
```

### 2. –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç:
```bash
POST /api/edges
{"_from": "c:backend", "_to": "t:java", ...}

–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ùå "–°–≤—è–∑—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–ø—Ä—è–º–∞—è —Å–≤—è–∑—å)"
```

### 3. –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—ã–π –¥—É–±–ª–∏–∫–∞—Ç:
```bash
POST /api/edges
{"_from": "t:java", "_to": "c:backend", ...}

–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ùå "–°–≤—è–∑—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å)"
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏:
```bash
POST /api/edges/check
{"_from": "c:backend", "_to": "t:java"}

–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ùå is_unique: false
```

### 5. –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ–±—Ä–∞:
```bash
DELETE /api/edges/1125899906842659

–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ "—É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–æ"
```

### 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è:
```bash
POST /api/edges/check
{"_from": "c:backend", "_to": "t:java"}

–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ is_unique: true
```

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –ß–µ—Ä–µ–∑ API (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å):
```bash
curl -X POST http://localhost:15000/api/edges \
  -H "Content-Type: application/json" \
  -d '{"_from": "c:backend", "_to": "t:python", "relationType": "related", "projects": ["fepro"]}'
```

### –ß–µ—Ä–µ–∑ MCP (–ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ Cursor):
```
"–î–æ–±–∞–≤—å —Å–≤—è–∑—å –æ—Ç c:backend –∫ t:python"
"–ü—Ä–æ–≤–µ—Ä—å —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å —Å–≤—è–∑–∏ –º–µ–∂–¥—É c:backend –∏ t:python"
"–£–¥–∞–ª–∏ —Ä–µ–±—Ä–æ —Å ID 1125899906842659"
```

---

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã Apache AGE –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:**  
Apache AGE 1.6.0 –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ `Json()` –≤ Cypher –∑–∞–ø—Ä–æ—Å–∞—Ö.

**–†–µ—à–µ–Ω–∏–µ:**  
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ f-—Å—Ç—Ä–æ–∫ —Å –ø—Ä—è–º–æ–π –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–æ–π –∑–Ω–∞—á–µ–Ω–∏–π (–±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö ID).

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ –¥–ª—è Cypher

**–§—É–Ω–∫—Ü–∏—è `format_properties_for_cypher()`:**
```python
{"relationType": "uses", "projects": ["fepro"]}  # Python dict

‚Üì

{relationType: "uses", projects: ["fepro"]}  # Cypher format
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∏–ø–æ–≤:**
- ‚úÖ –°—Ç—Ä–æ–∫–∏: `"value"`
- ‚úÖ –ú–∞—Å—Å–∏–≤—ã: `["a", "b"]`
- ‚úÖ –ß–∏—Å–ª–∞: `123`
- ‚úÖ Boolean: `true/false`

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç—ã —Å —Ä—ë–±—Ä–∞–º–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã!**

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
1. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ä—ë–±–µ—Ä —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ (–æ–±–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
3. ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Ä—ë–±–µ—Ä
4. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ —Ä—ë–±–µ—Ä (–Ω–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ, –Ω–æ –∫–æ–¥ –≥–æ—Ç–æ–≤)

### –§–æ—Ä–º–∞—Ç—ã –≤–≤–æ–¥–∞:
- ‚úÖ Arango –∫–ª—é—á–∏: `"c:backend"`
- ‚úÖ Arango IDs: `"canonical_nodes/c:backend"`
- ‚úÖ AGE IDs: `"844424930131972"`

### –í–∞–ª–∏–¥–∞—Ü–∏—è:
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø—Ä—è–º—ã—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (A‚ÜíB + A‚ÜíB)
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω—ã—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (A‚ÜíB + B‚ÜíA)
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

---

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –î–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ MCP:

1. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Cursor (3-–π —Ä–∞–∑)**
   - –ó–∞–≥—Ä—É–∑–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π EdgeManagerHandler (–ø–æ—Ä—Ç 15000)
   - –ó–∞–≥—Ä—É–∑–∏—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π graph_viewer_status handler

2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å MCP –∫–æ–º–∞–Ω–¥—ã:**
   ```
   check_edge_uniqueness(from_node="c:backend", to_node="t:python")
   add_edge(from_node="c:backend", to_node="v:python@3.11", projects=["fedoc"])
   ```

3. **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:**
   - README —Å –Ω–æ–≤—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
   - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** ‚úÖ 100% —Ä–∞–±–æ—Ç–∞–µ—Ç  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –ö PRODUCTION

