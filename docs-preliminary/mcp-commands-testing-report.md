# –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–∞–Ω–¥ MCP fedoc

**–î–∞—Ç–∞:** 2025-10-20  
**–í–µ—Ä—Å–∏—è MCP:** 2.0.0  
**–ú–∞—à–∏–Ω–∞:** alex-User-PC (WSL2)  
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ Cursor)

---

## üìã –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ MCP (12 –∫–æ–º–∞–Ω–¥)

### –ö–∞—Ç–µ–≥–æ—Ä–∏—è: Graph Viewer —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (3 –∫–æ–º–∞–Ω–¥—ã)
1. `open_graph_viewer` - –æ—Ç–∫—Ä—ã—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
2. `graph_viewer_status` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
3. `stop_graph_viewer` - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É

### –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (5 –∫–æ–º–∞–Ω–¥)
4. `check_imports` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
5. `check_stubs` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
6. `test_arango` - –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å ArangoDB
7. `test_ssh` - –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å SSH —Ç—É–Ω–Ω–µ–ª—å
8. `get_selected_nodes` - –ø–æ–ª—É—á–∏—Ç—å –≤—ã–±–æ—Ä–∫—É –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞

### –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä—ë–±—Ä–∞–º–∏ (4 –∫–æ–º–∞–Ω–¥—ã)
9. `add_edge` - –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–±—Ä–æ
10. `update_edge` - –æ–±–Ω–æ–≤–∏—Ç—å —Ä–µ–±—Ä–æ
11. `delete_edge` - —É–¥–∞–ª–∏—Ç—å —Ä–µ–±—Ä–æ
12. `check_edge_uniqueness` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å

---

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. ‚úÖ open_graph_viewer
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ  
**–í–µ—Ä—Å–∏—è:** v2 (–Ω–æ–≤–∞—è, —Å ConfigManager)

**–¢–µ—Å—Ç:**
```
"–û—Ç–∫—Ä–æ–π –≥—Ä–∞—Ñ –≤—å—é–≤–µ—Ä"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –°–∏—Å—Ç–µ–º–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∞ –∑–∞–ø—É—â–µ–Ω–∞

üåê URL: http://localhost:5173

üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
   ‚Ä¢ ssh_tunnels: {'postgres': {'name': 'PostgreSQL', 
                                'local_port': 15432, 
                                'status': 'connected'}}
   ‚Ä¢ api_server: running on port 15000
   ‚Ä¢ vite_server: running on port 5173
```

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞—à–∏–Ω—ã (alex-User-PC)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ PostgreSQL —Ç—É–Ω–Ω–µ–ª—è (15432)
- ‚úÖ –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞ (15000)
- ‚úÖ –ó–∞–ø—É—Å–∫ Vite (5173)
- ‚úÖ –û—Ç–∫—Ä—ã—Ç–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ WSL
- ‚úÖ –ì—Ä–∞—Ñ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (39 —É–∑–ª–æ–≤)

---

### 2. ‚ö†Ô∏è graph_viewer_status
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –û—à–∏–±–∫–∞ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞, —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ Cursor)  
**–í–µ—Ä—Å–∏—è:** v2 (–Ω–æ–≤–∞—è, —Å ConfigManager)

**–¢–µ—Å—Ç:**
```
mcp_fedoc_graph_viewer_status()
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚ùå –û—à–∏–±–∫–∞: 'status'
```

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–û—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ `tunnel["status"]` –≤–º–µ—Å—Ç–æ `tunnel.get("status")`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**  
‚úÖ –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ `graph_viewer_manager.py:263`

**–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ Cursor –æ–∂–∏–¥–∞–µ—Ç—Å—è:**
```
‚úÖ –°—Ç–∞—Ç—É—Å: running
üñ•Ô∏è  –ú–∞—à–∏–Ω–∞: alex-User-PC

üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
   ‚úÖ postgres_tunnel: connected (PID: 2929)
   ‚úÖ api_server: running (PID: 6376)
   ‚úÖ vite_server: running (PID: 3498)
```

---

### 3. üî≤ stop_graph_viewer
**–°—Ç–∞—Ç—É—Å:** –ù–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ v2 handler)  
**–í–µ—Ä—Å–∏—è:** v2 (–Ω–æ–≤–∞—è, —Å ConfigManager)

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```
"–û—Å—Ç–∞–Ω–æ–≤–∏ –≥—Ä–∞—Ñ –≤—å—é–≤–µ—Ä"
"–û—Å—Ç–∞–Ω–æ–≤–∏ –≥—Ä–∞—Ñ –≤—å—é–≤–µ—Ä –∏ –∑–∞–∫—Ä–æ–π —Ç—É–Ω–Ω–µ–ª—å"  # stop_tunnel=true
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- –û—Å—Ç–∞–Ω–æ–≤–∫–∞ API –∏ Vite —Å–µ—Ä–≤–µ—Ä–æ–≤
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –∑–∞–∫—Ä—ã—Ç–∏–µ SSH —Ç—É–Ω–Ω–µ–ª–µ–π

---

### 4. ‚úÖ check_imports
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç  
**–í–µ—Ä—Å–∏—è:** v1 (—Å—Ç–∞—Ä–∞—è, –±–µ–∑ ConfigManager)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

üì¶ –ë–∞–∑–æ–≤—ã–µ –º–æ–¥—É–ª–∏:
   ‚úÖ json: –î–æ—Å—Ç—É–ø–µ–Ω
   ‚úÖ os: –î–æ—Å—Ç—É–ø–µ–Ω
   ‚úÖ sys: –î–æ—Å—Ç—É–ø–µ–Ω

üåê –í–Ω–µ—à–Ω–∏–µ –º–æ–¥—É–ª–∏:
   ‚úÖ arango: –î–æ—Å—Ç—É–ø–µ–Ω
   ‚úÖ subprocess: –î–æ—Å—Ç—É–ø–µ–Ω
   ‚úÖ webbrowser: –î–æ—Å—Ç—É–ø–µ–Ω
   ‚úÖ pathlib: –î–æ—Å—Ç—É–ø–µ–Ω

üéØ Graph Viewer –º–æ–¥—É–ª–∏:
   ‚úÖ tunnel_manager: –î–æ—Å—Ç—É–ø–µ–Ω
   ‚úÖ process_manager: –î–æ—Å—Ç—É–ø–µ–Ω

üéâ –í—Å–µ –º–æ–¥—É–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã - –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!
```

**–í—ã–≤–æ–¥:** –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

---

### 5. ‚ö†Ô∏è check_stubs
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø–æ—Ä—Ç—ã  
**–í–µ—Ä—Å–∏—è:** v1 (—Å—Ç–∞—Ä–∞—è, –±–µ–∑ ConfigManager)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

üóÑÔ∏è  ArangoDB –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
   –°—Ç–∞—Ç—É—Å: connected
   –•–æ—Å—Ç: http://localhost:8529
   –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: fedoc
   üí° ArangoDB –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

üîå SSH —Ç—É–Ω–Ω–µ–ª—å:
   –°—Ç–∞—Ç—É—Å: disconnected  ‚ö†Ô∏è (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä—ã–π —Ç—É–Ω–Ω–µ–ª—å 8529)
   –õ–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç: 8529  ‚ö†Ô∏è

üöÄ API —Å–µ—Ä–≤–µ—Ä:
   –°—Ç–∞—Ç—É—Å: running
   –ü–æ—Ä—Ç: 8899  ‚ö†Ô∏è (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 15000)
   PID: 5382
```

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é MCP –∏–∑ `server.py:__init__` –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –∑–Ω–∞–µ—Ç –æ ConfigManager.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**  
–û–±–Ω–æ–≤–∏—Ç—å —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ConfigManager –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å –∫–∞–∫ —É—Å—Ç–∞—Ä–µ–≤—à—É—é.

---

### 6. ‚úÖ test_arango
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (legacy)  
**–í–µ—Ä—Å–∏—è:** v1 (—Å—Ç–∞—Ä–∞—è)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ArangoDB –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

‚úÖ –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —É—Å–ø–µ—à–µ–Ω!
üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:
   –ò–º—è: fedoc
   ID: 25817
   –ü—É—Ç—å: none
   –°–∏—Å—Ç–µ–º–∞: False

üéâ ArangoDB –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ —Å Graph Viewer!
```

**–í—ã–≤–æ–¥:**  
ArangoDB legacy –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å 8529 (read-only —Ä–µ–∂–∏–º).

---

### 7. ‚ùå test_ssh
**–°—Ç–∞—Ç—É—Å:** ‚ùå –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç—É–Ω–Ω–µ–ª—å  
**–í–µ—Ä—Å–∏—è:** v1 (—Å—Ç–∞—Ä–∞—è)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SSH —Ç—É–Ω–Ω–µ–ª—è

üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
   –£–¥–∞–ª–µ–Ω–Ω—ã–π —Ö–æ—Å—Ç: vuege-server
   –õ–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç: 8529  ‚ö†Ô∏è (ArangoDB, —É—Å—Ç–∞—Ä–µ–≤—à–∏–π)
   –£–¥–∞–ª–µ–Ω–Ω—ã–π –ø–æ—Ä—Ç: 8529  ‚ö†Ô∏è

üìä –°—Ç–∞—Ç—É—Å —Ç—É–Ω–Ω–µ–ª—è:
   –°—Ç–∞—Ç—É—Å: disconnected  ‚ùå (–Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –æ–Ω connected!)
   PID: N/A
```

**–†–µ–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
```bash
$ ss -tlnp | grep 8529
LISTEN 127.0.0.1:8529  (PID: 2650) ‚úÖ Connected!
```

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–ò—â–µ—Ç —Ç—É–Ω–Ω–µ–ª—å –ø–æ —Å—Ç–∞—Ä–æ–º—É –ø–∞—Ç—Ç–µ—Ä–Ω—É –∏ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç (–≤–æ–∑–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏–ª—Å—è —Ñ–æ—Ä–º–∞—Ç –∫–æ–º–∞–Ω–¥—ã).

---

### 8. ‚úÖ get_selected_nodes
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç  
**–í–µ—Ä—Å–∏—è:** v2 (–Ω–æ–≤–∞—è, —Å WebSocket)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üì≠ –ù–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

–í—ã–±–µ—Ä–∏—Ç–µ —É–∑–ª—ã –∏–ª–∏ —Ä—ë–±—Ä–∞ –≤ Graph Viewer:
  ‚Ä¢ –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —É–∑–µ–ª –¥–ª—è –≤—ã–±–æ—Ä–∞
  ‚Ä¢ Ctrl+Click –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞
  ‚Ä¢ –ö–ª–∏–∫ –Ω–∞ –ø—É—Å—Ç–æ–º –º–µ—Å—Ç–µ –¥–ª—è —Å–±—Ä–æ—Å–∞ –≤—ã–±–æ—Ä–∞
```

**–í—ã–≤–æ–¥:**  
–ö–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω, –∂–¥—ë—Ç –≤—ã–±–æ—Ä–∫–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

---

### 9. ‚ö†Ô∏è add_edge
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞, —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ Cursor  
**–í–µ—Ä—Å–∏—è:** v1 (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç EdgeManagerHandler)

**–ü—Ä–æ–±–ª–µ–º–∞ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API: port=8899 Connection refused
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**  
‚úÖ –ò–∑–º–µ–Ω–µ–Ω –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –ø–æ—Ä—Ç –≤ `edge_manager.py:15` —Å 8899 ‚Üí 15000

**–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ Cursor –æ–∂–∏–¥–∞–µ—Ç—Å—è:**
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API –Ω–∞ –ø–æ—Ä—Ç—É 15000
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ —Ä—ë–±–µ—Ä
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–≤—è–∑–µ–π

---

### 10. ‚ö†Ô∏è update_edge
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞, —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ Cursor  
**–í–µ—Ä—Å–∏—è:** v1 (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç EdgeManagerHandler)

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–¢–∞ –∂–µ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Ä—Ç 8899

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**  
‚úÖ –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ EdgeManagerHandler

---

### 11. ‚ö†Ô∏è delete_edge
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞, —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ Cursor  
**–í–µ—Ä—Å–∏—è:** v1 (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç EdgeManagerHandler)

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–¢–∞ –∂–µ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Ä—Ç 8899

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**  
‚úÖ –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ EdgeManagerHandler

---

### 12. ‚ö†Ô∏è check_edge_uniqueness
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞, —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ Cursor  
**–í–µ—Ä—Å–∏—è:** v1 (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç EdgeManagerHandler)

**–¢–µ—Å—Ç (–¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è):**
```python
mcp_fedoc_check_edge_uniqueness(
    from_node="canonical_nodes/c:backend",
    to_node="canonical_nodes/t:java@21"
)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (–¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è):**
```
‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API: port=8899
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**  
‚úÖ –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ EdgeManagerHandler

---

## üìä –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

| # | –ö–æ–º–∞–Ω–¥–∞ | –í–µ—Ä—Å–∏—è | –ü–æ—Ä—Ç | –°—Ç–∞—Ç—É—Å | –¢—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ |
|---|---------|--------|------|--------|---------------------|
| 1 | open_graph_viewer | v2 | 15000 | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ù–µ—Ç |
| 2 | graph_viewer_status | v2 | 15000 | ‚ö†Ô∏è –û—à–∏–±–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ | **–î–∞** |
| 3 | stop_graph_viewer | v2 | 15000 | üî≤ –ù–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ | –ù–µ—Ç |
| 4 | check_imports | v1 | - | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ù–µ—Ç |
| 5 | check_stubs | v1 | 8899 | ‚ö†Ô∏è –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø–æ—Ä—Ç—ã | –ù–µ—Ç (legacy) |
| 6 | test_arango | v1 | 8529 | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ù–µ—Ç (legacy) |
| 7 | test_ssh | v1 | 8529 | ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å | –ù–µ—Ç (legacy) |
| 8 | get_selected_nodes | v2 | 15000 | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ù–µ—Ç |
| 9 | add_edge | v1 | 8899‚Üí15000 | ‚ö†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ | **–î–∞** |
| 10 | update_edge | v1 | 8899‚Üí15000 | ‚ö†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ | **–î–∞** |
| 11 | delete_edge | v1 | 8899‚Üí15000 | ‚ö†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ | **–î–∞** |
| 12 | check_edge_uniqueness | v1 | 8899‚Üí15000 | ‚ö†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ | **–î–∞** |

**–ò—Ç–æ–≥–æ:**
- ‚úÖ **–†–∞–±–æ—Ç–∞—é—Ç:** 4 –∫–æ–º–∞–Ω–¥—ã
- ‚ö†Ô∏è **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã (—Ç—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏):** 5 –∫–æ–º–∞–Ω–¥
- üî≤ **–ù–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã:** 1 –∫–æ–º–∞–Ω–¥–∞
- ‚ö†Ô∏è **Legacy (—É—Å—Ç–∞—Ä–µ–≤—à–∏–µ):** 2 –∫–æ–º–∞–Ω–¥—ã

---

## üîç –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –î–≤–µ –≤–µ—Ä—Å–∏–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
**–§–∞–π–ª:** `src/mcp_server/server.py`

**–°—Ç–∞—Ä–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (v1):**
- –°—Ç—Ä–æ–∫–∏ 38-240
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (env vars)
- –ü–æ—Ä—Ç—ã: 8899 (API), 8529 (SSH)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤: `check_stubs`, `test_arango`, `test_ssh`

**–ù–æ–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (v2):**
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ `handlers/graph_viewer_manager.py`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç ConfigManager
- –ü–æ—Ä—Ç—ã: 15000 (API), 15432 (PostgreSQL SSH)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤: `open_graph_viewer`, `graph_viewer_status`, `stop_graph_viewer`

**–≠—Ñ—Ñ–µ–∫—Ç:**
- ‚ö†Ô∏è –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å: —Ä–∞–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤–∏–¥—è—Ç —Ä–∞–∑–Ω—ã–µ –ø–æ—Ä—Ç—ã
- ‚ö†Ô∏è Legacy –∫–æ–º–∞–Ω–¥—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —É—Å—Ç–∞—Ä–µ–≤—à—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: EdgeManagerHandler —Å —Ö–∞—Ä–¥–∫–æ–¥ –ø–æ—Ä—Ç–æ–º
**–§–∞–π–ª:** `src/mcp_server/handlers/edge_manager.py`

**–ë—ã–ª–æ:**
```python
def __init__(self, api_url: str = "http://localhost:8899"):
```

**–°—Ç–∞–ª–æ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ):**
```python
def __init__(self, api_url: str = "http://localhost:15000"):
```

**–§–∞–π–ª:** `edge_manager.py:270`
```python
def create_edge_manager_handler(api_url: str = "http://localhost:8899"):
```

**–°—Ç–∞–ª–æ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ):**
```python
def create_edge_manager_handler(api_url: str = "http://localhost:15000"):
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- ‚ùå –ö–æ–º–∞–Ω–¥—ã —Ä—ë–±–µ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏ (Connection refused –Ω–∞ 8899)
- ‚úÖ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ 15000
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ Cursor

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: graph_viewer_status —Å KeyError
**–§–∞–π–ª:** `src/mcp_server/handlers/graph_viewer_manager.py:263`

**–ë—ã–ª–æ:**
```python
tunnel_icon = "‚úÖ" if tunnel["status"] == "connected" else "‚ùå"
```

**–°—Ç–∞–ª–æ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ):**
```python
tunnel_icon = "‚úÖ" if tunnel.get("status") == "connected" else "‚ùå"
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- ‚ùå –ö–æ–º–∞–Ω–¥–∞ –ø–∞–¥–∞–ª–∞ —Å KeyError
- ‚úÖ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ Cursor

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—Å–µ—Å—Å–∏—è 2025-10-20)

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 1: EdgeManagerHandler
- ‚úÖ –î–µ—Ñ–æ–ª—Ç–Ω—ã–π –ø–æ—Ä—Ç: 8899 ‚Üí 15000
- ‚úÖ –§—É–Ω–∫—Ü–∏—è create_edge_manager_handler: 8899 ‚Üí 15000
- –§–∞–π–ª: `edge_manager.py`

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 2: graph_viewer_status
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ tunnel["status"] ‚Üí tunnel.get("status")
- –§–∞–π–ª: `graph_viewer_manager.py:263`

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (–ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ Cursor):

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
   - `graph_viewer_status` - –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ç—É–Ω–Ω–µ–ª–∏
   - `add_edge` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ä—ë–±–µ—Ä
   - `check_edge_uniqueness` - –≤–∞–ª–∏–¥–∞—Ü–∏—è
   - `update_edge` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
   - `delete_edge` - —É–¥–∞–ª–µ–Ω–∏–µ

2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å stop_graph_viewer:**
   ```
   "–û—Å—Ç–∞–Ω–æ–≤–∏ –≥—Ä–∞—Ñ –≤—å—é–≤–µ—Ä"
   ```

---

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (—Å–ª–µ–¥—É—é—â–∞—è —Å–µ—Å—Å–∏—è):

3. **–û–±–Ω–æ–≤–∏—Ç—å legacy –∫–æ–º–∞–Ω–¥—ã –Ω–∞ ConfigManager:**
   - –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å `_handle_check_stubs` –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ConfigManager
   - –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å `_handle_test_ssh` –Ω–∞ –Ω–æ–≤—ã–π TunnelManager
   - –ò–ª–∏ –ø–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ deprecated

4. **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é:**
   - –£–±—Ä–∞—Ç—å —Å—Ç–∞—Ä—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∏–∑ `server.py:__init__`
   - –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ConfigManager
   - –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

5. **–î–æ–±–∞–≤–∏—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å:**
   ```python
   # –ü–æ–º–µ—Ç–∏—Ç—å legacy –∫–æ–º–∞–Ω–¥—ã
   "test_arango": {  # LEGACY - —Ç–æ–ª—å–∫–æ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏
       "deprecated": True,
       "use_instead": "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ PostgreSQL"
   }
   ```

---

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥):

6. **–ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–∏—Ç—å ArangoDB –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   - –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏
   - –£–¥–∞–ª–∏—Ç—å `test_arango`, `check_stubs` (legacy —á–∞—Å—Ç–∏)
   - –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ PostgreSQL –∫–æ–º–∞–Ω–¥—ã

7. **–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
   - `query_graph` - –≤—ã–ø–æ–ª–Ω–∏—Ç—å Cypher –∑–∞–ø—Ä–æ—Å
   - `get_node_info` - –¥–µ—Ç–∞–ª–∏ —É–∑–ª–∞
   - `export_graph` - —ç–∫—Å–ø–æ—Ä—Ç –≥—Ä–∞—Ñ–∞

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥:
- **–†–∞–±–æ—Ç–∞—é—Ç —Å–µ–π—á–∞—Å:** 4/12 (33%)
- **–†–∞–±–æ—Ç–∞—é—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏:** 9/12 (75%)
- **Legacy (—É—Å—Ç–∞—Ä–µ–≤—à–∏–µ):** 2/12 (17%)
- **–ù–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã:** 1/12 (8%)

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–º–∞–Ω–¥:
- **v2 (PostgreSQL):** 4 –∫–æ–º–∞–Ω–¥—ã - 3 —Ä–∞–±–æ—Ç–∞—é—Ç, 1 —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
- **v1 (legacy):** 4 –∫–æ–º–∞–Ω–¥—ã - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —É—Å—Ç–∞—Ä–µ–≤—à—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- **Edge (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã):** 4 –∫–æ–º–∞–Ω–¥—ã - —Ç—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–µ –≤—ã–≤–æ–¥—ã

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ:
1. ‚úÖ `open_graph_viewer` - –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫
2. ‚úÖ `check_imports` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. ‚úÖ `get_selected_nodes` - WebSocket –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
4. ‚úÖ `test_arango` - legacy –¥–æ—Å—Ç—É–ø

### –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ (–ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏):
5. ‚úÖ `graph_viewer_status` - –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç—É–Ω–Ω–µ–ª–∏
6. ‚úÖ `add_edge`, `update_edge`, `delete_edge`, `check_edge_uniqueness` - –ø–æ—Ä—Ç 15000

### –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
7. ‚ö†Ô∏è `check_stubs`, `test_ssh` - –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –Ω–∞ ConfigManager
8. üî≤ `stop_graph_viewer` - –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:
1. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Cursor** –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å 5 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥**
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å stop_graph_viewer**

### –í —Å–ª–µ–¥—É—é—â–µ–π —Å–µ—Å—Å–∏–∏:
4. –û–±–Ω–æ–≤–∏—Ç—å legacy –∫–æ–º–∞–Ω–¥—ã –Ω–∞ ConfigManager
5. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–º–∞–Ω–¥ —Ä—ë–±–µ—Ä
6. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é MCP

---

**–î–∞—Ç–∞:** 2025-10-20  
**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –∫–æ–º–∞–Ω–¥:** 11/12  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** 2 –∫–æ–º–∞–Ω–¥—ã  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç


