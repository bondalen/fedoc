# –†–µ–∑—é–º–µ —á–∞—Ç–∞: –£–ø—Ä–æ—â–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤ –∏ —É–ª—É—á—à–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

**–î–∞—Ç–∞**: 2025-11-05  
**–í—Ä–µ–º—è**: ~14:00-16:00  
**–ê–≤—Ç–æ—Ä**: –ê–ª–µ–∫—Å–∞–Ω–¥—Ä  
**–¢–µ–º–∞**: –£–ø—Ä–æ—â–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤, –¥–æ—Ä–∞–±–æ—Ç–∫–∞ JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏, –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è

---

## –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

–ß–∞—Ç –±—ã–ª –ø–æ—Å–≤—è—â—ë–Ω —É–ø—Ä–æ—â–µ–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤ –∏ —É–ª—É—á—à–µ–Ω–∏—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ Graph Viewer. –ë—ã–ª–∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω—ã —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, —Ç–∏–ø –≤ –∫–ª—é—á–µ, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã), –Ω–æ –≤ –∏—Ç–æ–≥–µ –ø—Ä–∏–Ω—è—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–∏—Å—Ç–µ–º—É (id, key, node_type) –∏ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫–µ JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–º —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è. –¢–∞–∫–∂–µ –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ç–∏–ø—ã —É–∑–ª–æ–≤ (file, class, nested-class) –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º.

**–ö–ª—é—á–µ–≤—ã–µ —Ç–µ–º—ã**:
1. ‚úÖ –ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤
2. ‚úÖ –†–µ—à–µ–Ω–∏–µ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–∏—Å—Ç–µ–º—É (id, key, node_type)
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤: file (`f:`), class (`cl:`), nested-class (`cln:`)
4. ‚úÖ –î–æ—Ä–∞–±–æ—Ç–∫–∞ JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º
5. ‚úÖ –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ–≥–º–µ–Ω—Ç–æ–≤, —Ñ–æ—Ä–º–∞/—Ä–∞–∑–º–µ—Ä—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∏–ø–æ–≤
6. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ `node_type` –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏—Å—Ç–æ—Ä–∏–∏
7. ‚úÖ –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –≤ –∫–æ–¥–µ

---

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### –ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å GitHub

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ**: `git pull`  
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–ª—É—á–µ–Ω—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞

### –ó–∞–ø—É—Å–∫ Graph Viewer

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ**: `graph_viewer_open()`  
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Graph Viewer —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω

---

## –ê–Ω–∞–ª–∏–∑ –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤

### –†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

1. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–∏–ø–æ–≤** (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ)
   - –†–µ–µ—Å—Ç—Ä —Ç–∏–ø–æ–≤ –≤–µ—Ä—à–∏–Ω –≤ –≥—Ä–∞—Ñ–µ
   - –§–∞–±—Ä–∏–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ—Ä—à–∏–Ω
   - –°–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ –¥–ª—è —Ç–µ–∫—É—â–∏—Ö –∑–∞–¥–∞—á

2. **–¢–∏–ø –≤ –∫–ª—é—á–µ —É–∑–ª–∞** (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ)
   - –§–æ—Ä–º–∞—Ç `a.c.project` –≤–º–µ—Å—Ç–æ `c:project`
   - –¢—Ä–µ–±—É–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö –∫–ª—é—á–µ–π
   - –ò–∑–±—ã—Ç–æ—á–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å

3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã** (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ)
   - `a:c:` –≤–º–µ—Å—Ç–æ `c:`
   - –î–ª–∏–Ω–Ω–µ–µ –∫–ª—é—á–∏
   - –°–µ–≥–º–µ–Ω—Ç –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–µ—Ä–µ–∑ –º–∞–ø–ø–∏–Ω–≥

4. **–ï–¥–∏–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä** (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ)
   - –¢–æ–ª—å–∫–æ `key` –∏–ª–∏ —Ç–æ–ª—å–∫–æ `id`
   - –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–µ–Ω—è—Ç—å –Ω–µ –Ω—É–∂–Ω–æ

### –ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ

**–û—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–∏—Å—Ç–µ–º—É**:
- `id` ‚Äî —á–∏—Å–ª–æ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (AGE ID)
- `key` ‚Äî —Å—Ç—Ä–æ–∫–æ–≤—ã–π –∫–ª—é—á —É–∑–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `c:project`)
- `node_type` ‚Äî —Ç–∏–ø —É–∑–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `concept`)

**–ü—Ä–∏—á–∏–Ω—ã**:
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ø–æ–Ω—è—Ç–Ω–∞
- ‚úÖ –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ –º–∏–≥—Ä–∞—Ü–∏–∏
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

---

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤

### –ù–æ–≤—ã–µ —Ç–∏–ø—ã

1. **`file`** (–ø—Ä–µ—Ñ–∏–∫—Å `f:`)
   - –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞
   - –ü—Ä–∏–º–µ—Ä—ã: `f:api_server.py`, `f:config.json`

2. **`class`** (–ø—Ä–µ—Ñ–∏–∫—Å `cl:`)
   - –ö–ª–∞—Å—Å—ã –≤ –∫–æ–¥–µ
   - –ü—Ä–∏–º–µ—Ä—ã: `cl:GraphObject`, `cl:GraphVertex`

3. **`nested-class`** (–ø—Ä–µ—Ñ–∏–∫—Å `cln:`)
   - –í–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã
   - –ü—Ä–∏–º–µ—Ä—ã: `cln:GraphObject.Validator`, `cln:Project.Config`

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

**–§–∞–π–ª**: `src/lib/graph_viewer/backend/api_server_age.py`

–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
```python
valid_types = ['concept', 'technology', 'version', 'directory', 'module', 'component', 'file', 'class', 'nested-class', 'other']

def validate_node_key(node_key: str, node_type: str) -> bool:
    if node_type == 'file' and not node_key.startswith('f:'):
        return False
    elif node_type == 'class' and not node_key.startswith('cl:'):
        return False
    elif node_type == 'nested-class' and not node_key.startswith('cln:'):
        return False
    # ...
```

---

## –î–æ—Ä–∞–±–æ—Ç–∫–∞ JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

### –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

**–§–∞–π–ª**: `src/lib/graph_viewer/frontend/src/config/visualization.json`

**–ü—Ä–∏–Ω—Ü–∏–ø—ã**:
1. **–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ–≥–º–µ–Ω—Ç–æ–≤** (—Ü–≤–µ—Ç–∞, –≥—Ä–∞–Ω–∏—Ü—ã, —à—Ä–∏—Ñ—Ç)
2. **–§–æ—Ä–º–∞ –∏ —Ä–∞–∑–º–µ—Ä—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∏–ø–æ–≤** (–Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ç–µ–º—ã)
3. **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º** —Å –æ–±—â–∏–º —Ü–≤–µ—Ç–æ–º –∑–∞–ª–∏–≤–∫–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```json
{
  "default": {
    "nodes": { "dark": {...}, "light": {...} },
    "edges": { "dark": {...}, "light": {...} }
  },
  "segments": {
    "architecture": {
      "dark": {
        "color": "#1976D2",
        "border": "#0D47A1",
        "font": { ... }
      },
      "light": {
        "color": "#E3F2FD",
        "border": "#90CAF9",
        "font": { ... }
      },
      "types": {
        "concept": {
          "type": "concept",
          "shape": "box",
          "size": { "width": 120, "height": 36, ... }
        },
        "technology": {
          "type": "technology",
          "shape": "circle",
          "size": { "size": 36, ... }
        },
        "version": {
          "type": "version",
          "shape": "diamond",
          "size": { "size": 24, ... }
        }
      }
    },
    "code_structure": {
      "dark": { ... },
      "light": { ... },
      "types": {
        "module": { "type": "module", "shape": "box", "size": {...} },
        "component": { "type": "component", "shape": "box", "size": {...} },
        "class": { "type": "class", "shape": "box", "size": {...} },
        "nested-class": { "type": "nested-class", "shape": "box", "size": {...} }
      }
    },
    "filesystem": {
      "dark": { ... },
      "light": { ... },
      "types": {
        "directory": { "type": "directory", "shape": "box", "size": {...} },
        "file": { "type": "file", "shape": "box", "size": {...} }
      }
    },
    "other": {
      "dark": { ... },
      "light": { ... },
      "types": {
        "other": { "type": "other", "shape": "box", "size": {...} }
      }
    }
  }
}
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

‚úÖ **–ú–µ–Ω—å—à–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è**: –¶–≤–µ—Ç–∞ –∏ —à—Ä–∏—Ñ—Ç—ã –∑–∞–¥–∞–Ω—ã –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç  
‚úÖ **–õ–æ–≥–∏—á–Ω–µ–µ**: –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ–≥–º–µ–Ω—Ç–∞, —Ñ–æ—Ä–º–∞ ‚Äî –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∏–ø–∞  
‚úÖ **–ü—Ä–æ—â–µ –ø–æ–∏—Å–∫**: –ü–æ–ª–µ `type` –≤ –∫–∞–∂–¥–æ–º —Ç–∏–ø–µ —É–∑–ª–∞  
‚úÖ **–ë–∞–∑–æ–≤—ã–π —Ü–≤–µ—Ç**: `segment.dark.color` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –±–∞–∑–æ–≤—ã–π —Ü–≤–µ—Ç –¥–ª—è UI  

---

## –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è

### –£—Ç–∏–ª–∏—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞

**–§–∞–π–ª**: `src/lib/graph_viewer/frontend/src/utils/nodeType.js` (—Å–æ–∑–¥–∞—Ç—å)

```javascript
const NODE_TYPE_MAPPING = {
  'c:': 'concept',
  't:': 'technology',
  'v:': 'version',
  'd:': 'directory',
  'm:': 'module',
  'comp:': 'component',
  'f:': 'file',
  'cl:': 'class',
  'cln:': 'nested-class'
}

export function getNodeType(nodeKey) {
  if (!nodeKey) return 'other'
  
  for (const [prefix, nodeType] of Object.entries(NODE_TYPE_MAPPING)) {
    if (nodeKey.startsWith(prefix)) {
      return nodeType
    }
  }
  
  return 'other'
}

export function getSegmentByType(nodeType) {
  const segmentMapping = {
    'concept': 'architecture',
    'technology': 'architecture',
    'version': 'architecture',
    'module': 'code_structure',
    'component': 'code_structure',
    'class': 'code_structure',
    'nested-class': 'code_structure',
    'directory': 'filesystem',
    'file': 'filesystem',
    'other': 'other'
  }
  
  return segmentMapping[nodeType] || 'other'
}
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

**–§–∞–π–ª**: `src/lib/graph_viewer/frontend/src/utils/visualization.js`

```javascript
export const applyNodeVisualization = (node, theme, isSelected = false, isHovered = false) => {
  // –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø —É–∑–ª–∞
  const nodeType = node.node_type || getNodeType(node.key || node._key)
  
  // –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–µ–≥–º–µ–Ω—Ç
  const segment = getSegmentByType(nodeType)
  
  // –ü–æ–ª—É—á–∏—Ç—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ —Å–µ–≥–º–µ–Ω—Ç–∞ –¥–ª—è —Ç–µ–º—ã
  const segmentThemeConfig = visualizationConfig.segments[segment]?.[theme]
  
  // –ü–æ–ª—É—á–∏—Ç—å —Ñ–æ—Ä–º—É –∏ —Ä–∞–∑–º–µ—Ä—ã –∏–∑ —Ç–∏–ø–∞ —É–∑–ª–∞
  const typeConfig = visualizationConfig.segments[segment]?.types[nodeType]
  const shape = typeConfig?.shape
  const size = typeConfig?.size
  
  // –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ç–∏–ª—å: –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏–∑ —Å–µ–≥–º–µ–Ω—Ç–∞ + —Ñ–æ—Ä–º–∞/—Ä–∞–∑–º–µ—Ä—ã –∏–∑ —Ç–∏–ø–∞
  return applyStyle(node, shape, size, segmentThemeConfig, defaultConfig, theme, isSelected, isHovered)
}
```

---

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ node_type –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

### –ü—Ä–æ–±–ª–µ–º–∞

–í —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏—Å—Ç–æ—Ä–∏–∏ (10 —Å–æ—Å—Ç–æ—è–Ω–∏–π –¥–ª—è undo/redo) –ø–æ–ª–µ `node_type` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —á—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.

### –†–µ—à–µ–Ω–∏–µ

**–§–∞–π–ª**: `src/lib/graph_viewer/frontend/src/stores/graph.js`

```javascript
const getCurrentNodesData = () => {
  if (!nodesDataSet.value) return []
  
  const nodes = nodesDataSet.value.get()
  
  // –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —É –≤—Å–µ—Ö —É–∑–ª–æ–≤ –µ—Å—Ç—å node_type
  return nodes.map(node => {
    if (!node.node_type && (node._key || node.key)) {
      node.node_type = getNodeType(node._key || node.key)
    }
    return node
  })
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

**–í –ø–∞–º—è—Ç–∏** (–∫–∞–∫ –æ–±—ä–µ–∫—Ç—ã JavaScript):
```javascript
{
  startNode: "c:project",
  depth: 5,
  project: "fedoc",
  nodeCount: 15,
  edgeCount: 23,
  timestamp: 1699123456789,
  nodes: [
    {
      id: 844424930131969,
      label: "–ü—Ä–æ–µ–∫—Ç",
      _key: "c:project",
      node_type: "concept",  // ‚Üê –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å
      color: { ... },
      shape: "box",
      width: 120,
      height: 36
    }
  ],
  edges: [ ... ]
}
```

**–í–∞–∂–Ω–æ**: –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ –æ–±—ä–µ–∫—Ç—ã –≤ –ø–∞–º—è—Ç–∏, –Ω–µ –≤ —Å—Ç—Ä–æ—á–Ω–æ–º –≤–∏–¥–µ.

---

## –°–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

1. **`docs-preliminary/architecture-proposals/visualization-final-proposal.md`**
   - –§–∏–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
   - –ö–æ–¥ –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
   - –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

2. **`docs-preliminary/architecture-proposals/simplified-vertex-types-system.md`**
   - –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤ –≤–µ—Ä—à–∏–Ω
   - –§–æ—Ä–º–∞—Ç –∫–ª—é—á–µ–π `g:v:{segment}:{type}`
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

3. **`docs-preliminary/architecture-proposals/type-in-key-approach.md`**
   - –ü–æ–¥—Ö–æ–¥ —Å —Ç–∏–ø–æ–º –≤ –∫–ª—é—á–µ —É–∑–ª–∞
   - –§–æ—Ä–º–∞—Ç `{segment}.{type}.{identifier}`
   - –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏

4. **`docs-preliminary/architecture-proposals/migration-from-arango-key.md`**
   - –ú–∏–≥—Ä–∞—Ü–∏—è –æ—Ç `arango_key` –∫ `key`
   - –ü–ª–∞–Ω –ø–µ—Ä–µ—Ö–æ–¥–∞
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞

5. **`docs-preliminary/architecture-proposals/single-identifier-approach.md`**
   - –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ `id` –∏–ª–∏ —Ç–æ–ª—å–∫–æ `key`
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

6. **`docs-preliminary/architecture-proposals/long-keys-solutions.md`**
   - –†–µ—à–µ–Ω–∏—è –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –∫–ª—é—á–µ–π —É–∑–ª–æ–≤
   - –ö–æ—Ä–æ—Ç–∫–∏–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
   - –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –∫–ª—é—á–∏

7. **`docs-preliminary/architecture-proposals/dynamic-vertex-types-registry.md`**
   - –ú–µ—Ö–∞–Ω–∏–∑–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –≤–µ—Ä—à–∏–Ω
   - –†–µ–µ—Å—Ç—Ä —Ç–∏–ø–æ–≤ –≤ –≥—Ä–∞—Ñ–µ
   - –§–∞–±—Ä–∏–∫–∞ –≤–µ—Ä—à–∏–Ω

8. **`docs-preliminary/architecture-proposals/example-adding-task-segment.md`**
   - –ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–µ–≥–º–µ–Ω—Ç–∞ "–ó–∞–¥–∞—á–∏"
   - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
   - –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

9. **`docs-preliminary/architecture-proposals/prefix-structure-analysis.md`**
   - –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ (`c:` vs `a:c:`)
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –Ω–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å

10. **`docs-preliminary/architecture-proposals/baseColor-clarification.md`**
    - –£—Ç–æ—á–Ω–µ–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è `baseColorDark`/`baseColorLight`
    - –†–∞–∑–Ω–∏—Ü–∞ —Å `dark.color`
    - –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

11. **`docs-preliminary/architecture-proposals/storage-data-structure.md`**
    - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏—Å—Ç–æ—Ä–∏–∏
    - –ü—Ä–∏–º–µ—Ä—ã —É–∑–ª–æ–≤ –∏ —Ä—ë–±–µ—Ä
    - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ `node_type`

### –î–∏–∞–≥—Ä–∞–º–º—ã UML

1. **`docs-preliminary/architecture-proposals/diagram/node-types-segments-uml.puml`**
   - –î–∏–∞–≥—Ä–∞–º–º–∞ –∫–ª–∞—Å—Å–æ–≤ —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤ —Å —Å–µ–≥–º–µ–Ω—Ç–∞–º–∏
   - –ò–µ—Ä–∞—Ä—Ö–∏—è: GraphObject ‚Üí GraphVertex ‚Üí –°–µ–≥–º–µ–Ω—Ç—ã ‚Üí –¢–∏–ø—ã

2. **`docs-preliminary/architecture-proposals/diagram/node-types-dynamic-registry-uml.puml`**
   - –î–∏–∞–≥—Ä–∞–º–º–∞ —Å —Å–∏—Å—Ç–µ–º–æ–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤
   - VertexTypeRegistry, VertexFactory, VertexTypeInfo

3. **`docs-preliminary/architecture-proposals/diagram/node-types-with-tasks-uml.puml`**
   - –î–∏–∞–≥—Ä–∞–º–º–∞ —Å –ø—Ä–∏–º–µ—Ä–æ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–µ–≥–º–µ–Ω—Ç–∞ "–ó–∞–¥–∞—á–∏"
   - TaskSegmentVertex, TaskVertex

---

## –ü—Ä–∏–Ω—è—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 1. –°–∏—Å—Ç–µ–º–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤

**–†–µ—à–µ–Ω–∏–µ**: –û—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–∏—Å—Ç–µ–º—É
- `id` ‚Äî —á–∏—Å–ª–æ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (AGE ID)
- `key` ‚Äî —Å—Ç—Ä–æ–∫–æ–≤—ã–π –∫–ª—é—á (–Ω–∞–ø—Ä–∏–º–µ—Ä, `c:project`)
- `node_type` ‚Äî —Ç–∏–ø —É–∑–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `concept`)

**–ü—Ä–∏—á–∏–Ω–∞**: –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–µ–Ω—è—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.

### 2. –ü—Ä–µ—Ñ–∏–∫—Å—ã —Ç–∏–ø–æ–≤

**–†–µ—à–µ–Ω–∏–µ**: –û—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã
- `c:` ‚Üí concept
- `t:` ‚Üí technology
- `v:` ‚Üí version
- `d:` ‚Üí directory
- `m:` ‚Üí module
- `comp:` ‚Üí component
- `f:` ‚Üí file (–Ω–æ–≤—ã–π)
- `cl:` ‚Üí class (–Ω–æ–≤—ã–π)
- `cln:` ‚Üí nested-class (–Ω–æ–≤—ã–π)

**–ü—Ä–∏—á–∏–Ω–∞**: –°—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è (`a:c:` –≤–º–µ—Å—Ç–æ `c:`) –∏–∑–±—ã—Ç–æ—á–Ω–∞, —Å–µ–≥–º–µ–Ω—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –º–∞–ø–ø–∏–Ω–≥.

### 3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ**: –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º
- –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ (—Ü–≤–µ—Ç–∞, –≥—Ä–∞–Ω–∏—Ü—ã, —à—Ä–∏—Ñ—Ç) –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ–≥–º–µ–Ω—Ç–æ–≤
- –§–æ—Ä–º–∞ –∏ —Ä–∞–∑–º–µ—Ä—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∏–ø–æ–≤
- –ü–æ–ª–µ `type` –≤ –∫–∞–∂–¥–æ–º —Ç–∏–ø–µ —É–∑–ª–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞

**–ü—Ä–∏—á–∏–Ω–∞**: –ú–µ–Ω—å—à–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è, –ª–æ–≥–∏—á–Ω–µ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞.

### 4. –•—Ä–∞–Ω–∏–ª–∏—â–µ –∏—Å—Ç–æ—Ä–∏–∏

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å `node_type` –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —É –≤—Å–µ—Ö —É–∑–ª–æ–≤ –µ—Å—Ç—å `node_type`
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ –∫–ª—é—á—É, –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞**: –ù—É–∂–Ω–æ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.

---

## –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –û–±–Ω–æ–≤–∏—Ç—å JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

**–§–∞–π–ª**: `src/lib/graph_viewer/frontend/src/config/visualization.json`

- [ ] –î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º
- [ ] –í—ã–Ω–µ—Å—Ç–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å —Å–µ–≥–º–µ–Ω—Ç–æ–≤
- [ ] –û—Å—Ç–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—É –∏ —Ä–∞–∑–º–µ—Ä—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∏–ø–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã: file, class, nested-class
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `type` –≤ –∫–∞–∂–¥—ã–π —Ç–∏–ø —É–∑–ª–∞

### 2. –°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—É –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞

**–§–∞–π–ª**: `src/lib/graph_viewer/frontend/src/utils/nodeType.js` (—Å–æ–∑–¥–∞—Ç—å)

- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `getNodeType()`
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `getSegmentByType()`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ –Ω–∞ —Ç–∏–ø—ã

### 3. –û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

**–§–∞–π–ª**: `src/lib/graph_viewer/frontend/src/utils/visualization.js`

- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `getNodeType()` –∏ `getSegmentByType()`
- [ ] –ü—Ä–∏–º–µ–Ω—è—Ç—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏–∑ —Å–µ–≥–º–µ–Ω—Ç–∞
- [ ] –ü—Ä–∏–º–µ–Ω—è—Ç—å —Ñ–æ—Ä–º—É –∏ —Ä–∞–∑–º–µ—Ä—ã –∏–∑ —Ç–∏–ø–∞

### 4. –û–±–Ω–æ–≤–∏—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

**–§–∞–π–ª**: `src/lib/graph_viewer/frontend/src/stores/graph.js`

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `getCurrentNodesData()` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è `node_type`
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `node_type` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏

### 5. –û–±–Ω–æ–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–∞ –±–∞–∫–µ–Ω–¥–µ

**–§–∞–π–ª**: `src/lib/graph_viewer/backend/api_server_age.py`

- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –≤ `valid_types`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è `f:`, `cl:`, `cln:`
- [ ] –î–æ–±–∞–≤–∏—Ç—å `node_type` –≤ –¥–∞–Ω–Ω—ã–µ —É–∑–ª–æ–≤, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥

### 6. –û–±–Ω–æ–≤–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –Ω–∞ –±–∞–∫–µ–Ω–¥–µ

**–§–∞–π–ª**: `src/lib/graph_viewer/backend/api_server_age.py`

- [ ] –î–æ–±–∞–≤–∏—Ç—å `node_type` –≤ `nodes_map` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —É–∑–ª–æ–≤
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–¥–∏–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `get_node_type()` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞

---

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –î–æ–∫—É–º–µ–Ω—Ç—ã

- **–°–æ–∑–¥–∞–Ω–æ**: 11 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏
- **–°–æ–∑–¥–∞–Ω–æ**: 3 –¥–∏–∞–≥—Ä–∞–º–º—ã UML

### –†–µ—à–µ–Ω–∏—è

- **–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–æ**: 6 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤
- **–ü—Ä–∏–Ω—è—Ç–æ**: –û—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–∏—Å—Ç–µ–º—É —Å –¥–æ—Ä–∞–±–æ—Ç–∫–∞–º–∏
- **–î–æ–±–∞–≤–ª–µ–Ω–æ**: 3 –Ω–æ–≤—ã—Ö —Ç–∏–ø–∞ —É–∑–ª–æ–≤ (file, class, nested-class)

---

## –í—ã–≤–æ–¥—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

1. ‚úÖ **–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã** –∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤
2. ‚úÖ **–ü—Ä–∏–Ω—è—Ç–æ —Ä–µ—à–µ–Ω–∏–µ** –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–∏—Å—Ç–µ–º—É (id, key, node_type)
3. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ç–∏–ø—ã** —É–∑–ª–æ–≤: file, class, nested-class
4. ‚úÖ **–î–æ—Ä–∞–±–æ—Ç–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON** –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º
5. ‚úÖ **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è (—Å–µ–≥–º–µ–Ω—Ç—ã) –∏ —Ñ–æ—Ä–º—ã (—Ç–∏–ø—ã)
6. ‚úÖ **–ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –ø–ª–∞–Ω** –¥–æ–±–∞–≤–ª–µ–Ω–∏—è `node_type` –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤ (–æ—Ç–∫–∞–∑ –æ—Ç —Å–ª–æ–∂–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- ‚úÖ –î–æ—Ä–∞–±–æ—Ç–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª—ë–Ω –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

- ‚úÖ –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ (—Ü–≤–µ—Ç–∞, –≥—Ä–∞–Ω–∏—Ü—ã, —à—Ä–∏—Ñ—Ç)
- ‚úÖ –§–æ—Ä–º–∞ –∏ —Ä–∞–∑–º–µ—Ä—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∏–ø–æ–≤ (–Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ç–µ–º—ã)
- ‚úÖ –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —á–µ—Ä–µ–∑ –º–∞–ø–ø–∏–Ω–≥ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤: –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∞

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

1. **–û–±–Ω–æ–≤–∏—Ç—å JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** (`visualization.json`)
   - –î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º
   - –í—ã–Ω–µ—Å—Ç–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å —Å–µ–≥–º–µ–Ω—Ç–æ–≤
   - –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã

2. **–°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—É –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞** (`nodeType.js`)
   - –§—É–Ω–∫—Ü–∏—è `getNodeType()`
   - –§—É–Ω–∫—Ü–∏—è `getSegmentByType()`

3. **–û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏** (`visualization.js`)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É JSON
   - –ü—Ä–∏–º–µ–Ω—è—Ç—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏–∑ —Å–µ–≥–º–µ–Ω—Ç–∞

4. **–û–±–Ω–æ–≤–∏—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ** (`graph.js`)
   - –î–æ–±–∞–≤–∏—Ç—å `node_type` –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

5. **–û–±–Ω–æ–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–∞ –±–∞–∫–µ–Ω–¥–µ** (`api_server_age.py`)
   - –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã
   - –î–æ–±–∞–≤–∏—Ç—å `node_type` –≤ –¥–∞–Ω–Ω—ã–µ —É–∑–ª–æ–≤

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –∑–∞–¥–∞—á–∏

- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω, –ø–ª–∞–Ω –≥–æ—Ç–æ–≤  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –í—ã—Å–æ–∫–∏–π (—É–ª—É—á—à–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏)  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê –°—Ä–µ–¥–Ω—è—è (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ JSON –∏ –∫–æ–¥–∞)  
**–í–ª–∏—è–Ω–∏–µ**: üéØ –í—ã—Å–æ–∫–æ–µ (–µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤)

---

**–°–ª–µ–¥—É—é—â–∏–π —á–∞—Ç**: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

