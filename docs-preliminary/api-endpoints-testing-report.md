# –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö API endpoints –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏ —Ä—ë–±–µ—Ä

**–î–∞—Ç–∞:** 2025-11-03  
**–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ endpoints:** –≠—Ç–∞–ø 1 - API Endpoints –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ —Ä—ë–±–µ—Ä  
**API Server:** `http://localhost:15000`

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Endpoint 1: `GET /api/edges/<edge_id>/projects` ‚úÖ

**–¢–µ—Å—Ç 1.1: –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–µ–∫—Ç—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ä–µ–±—Ä–∞**
- **URL:** `GET /api/edges/1125899906842676/projects`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **PASSED**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
    "edge_id": 1125899906842676,
    "projects": [
        {
            "created_at": "2025-11-03T06:17:11.585516",
            "created_by": "user",
            "description": "–ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞–º–∏",
            "key": "fepro",
            "metadata": {
                "added_at": "2025-11-03T06:17:11.585516+00:00",
                "added_via": "mcp_command"
            },
            "name": "FEPRO",
            "role": "participant",
            "weight": 1.0
        }
    ],
    "success": true
}
```
- **–í—ã–≤–æ–¥:** Endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.

**–¢–µ—Å—Ç 1.2: –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–µ–∫—Ç—ã –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ä–µ–±—Ä–∞**
- **URL:** `GET /api/edges/999999999/projects`
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **PASSED (—Å –∑–∞–º–µ—á–∞–Ω–∏–µ–º)**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
    "edge_id": 999999999,
    "projects": [],
    "success": true
}
```
- **–ó–∞–º–µ—á–∞–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –≤–º–µ—Å—Ç–æ –æ—à–∏–±–∫–∏ 404. –≠—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å.

---

### Endpoint 2: `GET /api/edges/<edge_id>` ‚úÖ

**–¢–µ—Å—Ç 2.1: –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–±—Ä–µ**
- **URL:** `GET /api/edges/1125899906842676`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **PASSED**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
    "edge": {
        "edge_id": 1125899906842676,
        "from": {
            "id": 844424930132002,
            "key": "t:spring-boot",
            "kind": "product",
            "name": "Spring Boot"
        },
        "projects": ["fepro"],
        "relation_type": null,
        "to": {
            "id": 844424930131981,
            "key": "c:backend-security",
            "kind": "concept",
            "name": "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –±–∞–∫–µ–Ω–¥–∞"
        }
    },
    "success": true
}
```
- **–í—ã–≤–æ–¥:** Endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–±—Ä–µ, –≤–∫–ª—é—á–∞—è —É–∑–ª—ã –∏ –ø—Ä–æ–µ–∫—Ç—ã.

---

### Endpoint 3: `POST /api/edges/check-connection` ‚úÖ

**–¢–µ—Å—Ç 3.1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤—è–∑—å –º–µ–∂–¥—É —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —É–∑–ª–∞–º–∏ (—Å–≤—è–∑—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)**
- **URL:** `POST /api/edges/check-connection`
- **Body:**
```json
{
    "from_node": "t:spring-boot",
    "to_node": "c:backend-security"
}
```
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **PASSED**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
    "connected": true,
    "edge": {
        "edge_id": 1125899906842676,
        "from_node": 844424930132002,
        "projects": ["fepro"],
        "relation_type": null,
        "to_node": 844424930131981
    },
    "for_project": {
        "170871": false,
        "fedoc": false,
        "femsq": false,
        "fepro": true
    }
}
```
- **–í—ã–≤–æ–¥:** Endpoint –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç —Å–≤—è–∑—å –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.

**–¢–µ—Å—Ç 3.2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤—è–∑—å –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ (—Å–≤—è–∑—å –ù–ï —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)**
- **URL:** `POST /api/edges/check-connection`
- **Body:**
```json
{
    "from_node": "c:backend",
    "to_node": "t:java"
}
```
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **PASSED**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
    "connected": false,
    "edge": null,
    "for_project": {}
}
```
- **–í—ã–≤–æ–¥:** Endpoint –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ —Å–≤—è–∑—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.

---

### Endpoint 4: `POST /api/edges/<edge_id>/projects` ‚úÖ

**–¢–µ—Å—Ç 4.1: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –∫ —Ä–µ–±—Ä—É**
- **URL:** `POST /api/edges/1125899906842676/projects`
- **Body:**
```json
{
    "project_key": "femsq"
}
```
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **PASSED**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
    "edge_id": 1125899906842676,
    "message": "–ü—Ä–æ–µ–∫—Ç femsq –¥–æ–±–∞–≤–ª–µ–Ω –∫ —Ä–µ–±—Ä—É 1125899906842676",
    "project_key": "femsq",
    "success": true
}
```
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:**
```json
{
    "edge_id": 1125899906842676,
    "projects": [
        {
            "key": "femsq",
            "name": "FEMSQ",
            ...
        },
        {
            "key": "fepro",
            "name": "FEPRO",
            ...
        }
    ],
    "success": true
}
```
- **–í—ã–≤–æ–¥:** –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω, endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

**–¢–µ—Å—Ç 4.2: –ü–æ–ø—ã—Ç–∫–∞ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—Ä–æ–µ–∫—Ç**
- **URL:** `POST /api/edges/1125899906842676/projects`
- **Body:**
```json
{
    "project_key": "nonexistent-project"
}
```
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **PASSED**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
    "error": "–ü—Ä–æ–µ–∫—Ç nonexistent-project –Ω–µ –Ω–∞–π–¥–µ–Ω",
    "success": false
}
```
- **–í—ã–≤–æ–¥:** –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (—Ö–æ—Ç—è –Ω–µ—Ç HTTP 404, –Ω–æ —ç—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å).

**–¢–µ—Å—Ç 4.3: –ü–æ–ø—ã—Ç–∫–∞ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –±–µ–∑ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è**
- **URL:** `POST /api/edges/1125899906842676/projects`
- **Body:**
```json
{}
```
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **PASSED**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
    "error": "–ü—É—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å",
    "success": false
}
```
- **–í—ã–≤–æ–¥:** –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å (—É—Ç–æ—á–Ω–∏—Ç—å, –∫–∞–∫–æ–µ –ø–æ–ª–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç).

---

### Endpoint 5: `DELETE /api/edges/<edge_id>/projects/<project_key>` ‚úÖ

**–¢–µ—Å—Ç 5.1: –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –∏–∑ —Ä–µ–±—Ä–∞**
- **URL:** `DELETE /api/edges/1125899906842676/projects/femsq`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **PASSED**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
    "edge_id": 1125899906842676,
    "message": "–ü—Ä–æ–µ–∫—Ç femsq —É–¥–∞–ª—ë–Ω –∏–∑ —Ä–µ–±—Ä–∞ 1125899906842676",
    "project_key": "femsq",
    "success": true
}
```
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è:**
```json
{
    "edge_id": 1125899906842676,
    "projects": [
        {
            "key": "fepro",
            ...
        }
    ],
    "success": true
}
```
- **–í—ã–≤–æ–¥:** –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª—ë–Ω, endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

---

## üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| Endpoint | –¢–µ—Å—Ç—ã | Passed | Failed | –ó–∞–º–µ—á–∞–Ω–∏—è |
|----------|-------|--------|--------|-----------|
| `GET /api/edges/<id>/projects` | 2 | 2 | 0 | 1 –∑–∞–º–µ—á–∞–Ω–∏–µ |
| `GET /api/edges/<id>` | 1 | 1 | 0 | - |
| `POST /api/edges/check-connection` | 2 | 2 | 0 | - |
| `POST /api/edges/<id>/projects` | 3 | 3 | 0 | 1 —É–ª—É—á—à–µ–Ω–∏–µ |
| `DELETE /api/edges/<id>/projects/<key>` | 1 | 1 | 0 | - |
| **–ò–¢–û–ì–û** | **9** | **9** | **0** | **2 —É–ª—É—á—à–µ–Ω–∏—è** |

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–í–°–ï ENDPOINTS –†–ê–ë–û–¢–ê–Æ–¢**

–í—Å–µ 5 endpoints —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã. –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

---

## üîç –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ä–µ–±—Ä–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** `GET /api/edges/999999999/projects` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –≤–º–µ—Å—Ç–æ –æ—à–∏–±–∫–∏ 404.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ä–µ–±—Ä–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å 404, –µ—Å–ª–∏ —Ä–µ–±—Ä–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.

### 2. –£–ª—É—á—à–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è `project_key` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–ü—É—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å".

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£—Ç–æ—á–Ω–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ: "–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ project_key".

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ **–≠—Ç–∞–ø 1 –∑–∞–≤–µ—Ä—à—ë–Ω** - –í—Å–µ API endpoints —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
2. ‚è≠Ô∏è **–≠—Ç–∞–ø 2** - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (`batch-add-projects`, `batch-remove-projects`)
3. ‚è≠Ô∏è **–≠—Ç–∞–ø 3** - –°–æ–∑–¥–∞–Ω–∏–µ MCP Handler –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤—ã–º–∏ endpoints
4. ‚è≠Ô∏è **–≠—Ç–∞–ø 4** - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è MCP –∫–æ–º–∞–Ω–¥ –≤ server.py

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–≠—Ç–∞–ø 1 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à—ë–Ω!** –í—Å–µ –Ω–æ–≤—ã–µ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã –∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –∏—Ç–µ—Ä–∞—Ü–∏—è—Ö.

