# –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –¥–æ—Ä–∞–±–æ—Ç–∫–µ MCP-–∫–æ–º–∞–Ω–¥ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–ø—ã—Ç–∞ —Ä–∞–±–æ—Ç—ã

**–î–∞—Ç–∞:** 2025-11-03  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ê–Ω–∞–ª–∏–∑ —Ä–∞–±–æ—Ç—ã –≤ —á–∞—Ç–∞—Ö –æ—Ç 2025-11-03 (—Ä–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞ –∏ –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ edge_projects)  
**–°—Ç–∞—Ç—É—Å:** üü° –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (—Ç—Ä–µ–±—É—é—Ç –æ–±—Å—É–∂–¥–µ–Ω–∏—è)

---

## üìä –ê–Ω–∞–ª–∏–∑ –æ–ø—ã—Ç–∞ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–æ–±–ª–µ–º—ã, –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –≤ —á–∞—Ç–∞—Ö

#### –ß–∞—Ç 1: –†–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞
1. **–ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏ —Ä—ë–±–µ—Ä** - –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å —á–µ—Ä–µ–∑ SQL
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–∞–Ω–¥** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–µ–π —Ç—Ä–µ–±–æ–≤–∞–ª–∞ SQL –∑–∞–ø—Ä–æ—Å–æ–≤
3. **–†—É—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏–∑ —Ä—ë–±–µ—Ä —á–µ—Ä–µ–∑ SQL —Ñ—É–Ω–∫—Ü–∏–∏

#### –ß–∞—Ç 2: –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ edge_projects
1. **–ù–µ—Ç MCP-–∫–æ–º–∞–Ω–¥ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ —Ä—ë–±–µ—Ä** - –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ SQL:
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ —Ä–µ–±—Ä–∞
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∫ —Ä–µ–±—Ä—É
   - –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ —Ä–µ–±—Ä–∞
   - –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–µ–∫—Ç–∞—Ö** - `node_get_selected` –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç—ã —Ä—ë–±–µ—Ä
3. **–ù–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —Å–≤—è–∑–µ–π** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ —Ç—Ä–µ–±–æ–≤–∞–ª–∞ SQL

---

## üéØ –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –Ω–æ–≤—ã–º MCP-–∫–æ–º–∞–Ω–¥–∞–º

### üî¥ –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã)

#### 1. `edge_get_projects` - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–µ–∫—Ç—ã —Ä–µ–±—Ä–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç —Å–ø–æ—Å–æ–±–∞ —É–∑–Ω–∞—Ç—å, –∫–∞–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã —Å–≤—è–∑–∞–Ω—ã —Å —Ä–µ–±—Ä–æ–º —á–µ—Ä–µ–∑ MCP

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `edge_id` (required): ID —Ä–µ–±—Ä–∞ (—á–∏—Å–ª–æ –∏–ª–∏ —Å—Ç—Ä–æ–∫–∞)
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π (–∫–ª—é—á, –∏–º—è, —Ä–æ–ª—å, –≤–µ—Å)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL —Ñ—É–Ω–∫—Ü–∏—é `get_edge_projects_enriched()`
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
  ```
  "–ü–æ–ª—É—á–∏ –ø—Ä–æ–µ–∫—Ç—ã –¥–ª—è —Ä–µ–±—Ä–∞ 1125899906842676"
  "–ö–∞–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã —Å–≤—è–∑–∞–Ω—ã —Å —ç—Ç–∏–º —Ä–µ–±—Ä–æ–º?"
  ```

#### 2. `edge_add_project` - –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –∫ —Ä–µ–±—Ä—É
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å SQL –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É —Ä–µ–±—Ä—É

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `edge_id` (required): ID —Ä–µ–±—Ä–∞
  - `project_key` (required): –ö–ª—é—á –ø—Ä–æ–µ–∫—Ç–∞ (fepro, femsq, fedoc)
  - `role` (optional): –†–æ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ (default: "participant")
  - `weight` (optional): –í–µ—Å —Å–≤—è–∑–∏ (default: 1.0)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL —Ñ—É–Ω–∫—Ü–∏—é `add_project_to_edge()`
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
  ```
  "–î–æ–±–∞–≤—å –ø—Ä–æ–µ–∫—Ç fepro –∫ —Ä–µ–±—Ä—É 1125899906842676"
  "–°–≤—è–∂–∏ —ç—Ç–æ —Ä–µ–±—Ä–æ —Å –ø—Ä–æ–µ–∫—Ç–æ–º fepro"
  ```

#### 3. `edge_remove_project` - –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –∏–∑ —Ä–µ–±—Ä–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å SQL –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ —Ä–µ–±—Ä–∞

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `edge_id` (required): ID —Ä–µ–±—Ä–∞
  - `project_key` (required): –ö–ª—é—á –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL —Ñ—É–Ω–∫—Ü–∏—é `remove_project_from_edge()`
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
  ```
  "–£–¥–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç fepro –∏–∑ —ç—Ç–æ–≥–æ —Ä–µ–±—Ä–∞"
  "fepro –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç—É —Å–≤—è–∑—å, —É–±–µ—Ä–∏ –µ–≥–æ"
  ```

#### 4. `nodes_check_connection` - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤—è–∑—å –º–µ–∂–¥—É —É–∑–ª–∞–º–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç —Å–ø–æ—Å–æ–±–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ –∏ –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–µ–π

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `from_node` (required): ID –∏–ª–∏ –∫–ª—é—á –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —É–∑–ª–∞
  - `to_node` (required): ID –∏–ª–∏ –∫–ª—é—á —Ü–µ–ª–µ–≤–æ–≥–æ —É–∑–ª–∞
  - `project_filter` (optional): –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤—è–∑—å –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–≤—è–∑–∏ (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç), –≤–∫–ª—é—á–∞—è –ø—Ä–æ–µ–∫—Ç—ã
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
  ```
  "–ü—Ä–æ–≤–µ—Ä—å —Å–≤—è–∑—å –º–µ–∂–¥—É —ç—Ç–∏–º–∏ —É–∑–ª–∞–º–∏"
  "–ï—Å—Ç—å –ª–∏ —Å–≤—è–∑—å –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ fepro?"
  ```

---

### üü° –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—É–ª—É—á—à–∞–µ—Ç UX)

#### 5. `edge_get_info` - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–±—Ä–µ
**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `edge_id` (required): ID —Ä–µ–±—Ä–∞
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ü–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:
  - –£–∑–ª—ã (from, to) —Å –∏—Ö –∫–ª—é—á–∞–º–∏ –∏ –∏–º–µ–Ω–∞–º–∏
  - –¢–∏–ø —Å–≤—è–∑–∏
  - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
  - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (—Ä–æ–ª–∏, –≤–µ—Å–∞)
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
  ```
  "–ü–æ–ª—É—á–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —ç—Ç–æ–º —Ä–µ–±—Ä–µ"
  "–ü–æ–∫–∞–∂–∏ –¥–µ—Ç–∞–ª–∏ —Å–≤—è–∑–∏"
  ```

#### 6. `edge_batch_add_projects` - –ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä—ë–±—Ä–∞–º–∏ –Ω—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É –º–Ω–æ–≥–æ —Ä–∞–∑

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `edge_ids` (required): –ú–∞—Å—Å–∏–≤ ID —Ä—ë–±–µ—Ä
  - `project_key` (required): –ö–ª—é—á –ø—Ä–æ–µ–∫—Ç–∞
  - `role` (optional): –†–æ–ª—å –ø—Ä–æ–µ–∫—Ç–∞
  - `weight` (optional): –í–µ—Å —Å–≤—è–∑–∏
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (–¥–æ–±–∞–≤–ª–µ–Ω–æ, –ø—Ä–æ–ø—É—â–µ–Ω–æ, –æ—à–∏–±–∫–∏)
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
  ```
  "–î–æ–±–∞–≤—å fepro –∫–æ –≤—Å–µ–º –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–º —Ä—ë–±—Ä–∞–º"
  "–°–≤—è–∂–∏ —ç—Ç–∏ —Ä—ë–±—Ä–∞ —Å –ø—Ä–æ–µ–∫—Ç–æ–º fepro"
  ```

#### 7. `edge_batch_remove_projects` - –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `edge_ids` (required): –ú–∞—Å—Å–∏–≤ ID —Ä—ë–±–µ—Ä
  - `project_key` (required): –ö–ª—é—á –ø—Ä–æ–µ–∫—Ç–∞
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —É–¥–∞–ª–µ–Ω–∏—è
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
  ```
  "–£–¥–∞–ª–∏ fepro –∏–∑ –≤—Å–µ—Ö –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ä—ë–±–µ—Ä"
  "fepro –∏ femsq –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–∏ —Å–≤—è–∑–∏, —É–±–µ—Ä–∏ –∏—Ö"
  ```

#### 8. –î–æ—Ä–∞–±–æ—Ç–∫–∞ `node_get_selected` - –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç—ã —Ä—ë–±–µ—Ä
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ –≤–∏–¥–Ω–æ, –∫–∞–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã —Å–≤—è–∑–∞–Ω—ã —Å —Ä—ë–±—Ä–∞–º–∏

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `include_projects` (default: false)
- –ï—Å–ª–∏ `true`, –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–±—Ä–∞ –≤–∫–ª—é—á–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ `get_edge_projects_array()`
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
  ```
  "–ü–æ–ª—É—á–∏ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏"
  node_get_selected(include_projects=true)
  ```

---

### üü¢ –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—É–¥–æ–±—Å—Ç–≤–æ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞)

#### 9. `selected_analyze_connections` - –ê–Ω–∞–ª–∏–∑ —Å–≤—è–∑–µ–π –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —É–∑–ª–æ–≤
**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `project_filter` (optional): –§–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–æ–µ–∫—Ç—É
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
  - –í—Å–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —É–∑–ª–∞–º–∏
  - –ü—Ä–æ–µ–∫—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Å–≤—è–∑–∏
  - –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø—Ä–æ–µ–∫—Ç—ã)
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
  ```
  "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–≤—è–∑–∏ –º–µ–∂–¥—É –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —É–∑–ª–∞–º–∏"
  "–ö–∞–∫–∏–µ —Å–≤—è–∑–∏ –µ—Å—Ç—å –º–µ–∂–¥—É —ç—Ç–∏–º–∏ —É–∑–ª–∞–º–∏ –¥–ª—è fepro?"
  ```

#### 10. –î–æ—Ä–∞–±–æ—Ç–∫–∞ `edge_check_uniqueness` - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
- –ï—Å–ª–∏ —Å–≤—è–∑—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å:
  - `edge_id` —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–≤—è–∑–∏
  - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–≤—è–∑–∏
  - –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
- **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
  ```
  edge_check_uniqueness –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
  {
    "is_unique": false,
    "existing_edge": {
      "edge_id": "1125899906842676",
      "projects": ["fepro"]
    },
    "suggestion": "–°–≤—è–∑—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç femsq?"
  }
  ```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞: API endpoints

–°–æ–≥–ª–∞—Å–Ω–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞, **–≤—Å–µ –∫–ª–∏–µ–Ω—Ç—ã (MCP-fedoc, Graph Viewer, –±—É–¥—É—â–∏–µ –∫–ª–∏–µ–Ω—Ç—ã) –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—É—é —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø–∞ - API —Å–µ—Ä–≤–µ—Ä Graph Viewer**.

**–¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- API —Å–µ—Ä–≤–µ—Ä: `src/lib/graph_viewer/backend/api_server_age.py` (–ø–æ—Ä—Ç 15000)
- MCP-—Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ HTTP requests –∫ API (–∫–∞–∫ `edge_manager.py`)
- Graph Viewer frontend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ API endpoints
- –í –±—É–¥—É—â–µ–º –¥—Ä—É–≥–∏–µ –∫–ª–∏–µ–Ω—Ç—ã —Å–º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ –∂–µ endpoints

### –≠—Ç–∞–ø 1: –°–æ–∑–¥–∞–Ω–∏–µ API endpoints

–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ endpoints –≤ `api_server_age.py`:

#### 1.1. `GET /api/edges/<edge_id>/projects` - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–µ–∫—Ç—ã —Ä–µ–±—Ä–∞
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL —Ñ—É–Ω–∫—Ü–∏—é `get_edge_projects_enriched()`

**Response:**
```json
{
  "success": true,
  "edge_id": 1125899906842676,
  "projects": [
    {
      "key": "fepro",
      "name": "FEPRO",
      "role": "participant",
      "weight": 1.0,
      "created_at": "2025-11-03T10:00:00Z"
    }
  ]
}
```

#### 1.2. `POST /api/edges/<edge_id>/projects` - –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –∫ —Ä–µ–±—Ä—É
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL —Ñ—É–Ω–∫—Ü–∏—é `add_project_to_edge()`

**Request:**
```json
{
  "project_key": "fepro",
  "role": "participant",
  "weight": 1.0
}
```

**Response:**
```json
{
  "success": true,
  "message": "–ü—Ä–æ–µ–∫—Ç fepro –¥–æ–±–∞–≤–ª–µ–Ω –∫ —Ä–µ–±—Ä—É 1125899906842676",
  "edge_id": 1125899906842676,
  "project_key": "fepro"
}
```

#### 1.3. `DELETE /api/edges/<edge_id>/projects/<project_key>` - –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –∏–∑ —Ä–µ–±—Ä–∞
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL —Ñ—É–Ω–∫—Ü–∏—é `remove_project_from_edge()`

**Response:**
```json
{
  "success": true,
  "message": "–ü—Ä–æ–µ–∫—Ç fepro —É–¥–∞–ª—ë–Ω –∏–∑ —Ä–µ–±—Ä–∞ 1125899906842676",
  "edge_id": 1125899906842676,
  "project_key": "fepro"
}
```

#### 1.4. `GET /api/edges/<edge_id>` - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–±—Ä–µ
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** Cypher –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–∑–ª–æ–≤ + `get_edge_projects_enriched()` –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤

**Response:**
```json
{
  "success": true,
  "edge": {
    "edge_id": 1125899906842676,
    "from": {
      "id": 844424930132002,
      "key": "t:spring-boot",
      "name": "Spring Boot",
      "kind": "product"
    },
    "to": {
      "id": 844424930131981,
      "key": "c:backend-security",
      "name": "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –±–∞–∫–µ–Ω–¥–∞",
      "kind": "concept"
    },
    "relation_type": "uses",
    "projects": ["fepro"]
  }
}
```

#### 1.5. `POST /api/edges/check-connection` - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤—è–∑—å –º–µ–∂–¥—É —É–∑–ª–∞–º–∏
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** Cypher –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≤—è–∑–∏ + –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ `get_edge_projects_enriched()`

**Request:**
```json
{
  "from_node": "t:spring-boot",
  "to_node": "c:backend-security",
  "project_filter": "fepro"
}
```

**Response:**
```json
{
  "connected": true,
  "edge": {
    "edge_id": 1125899906842676,
    "from_node": 844424930132002,
    "to_node": 844424930131981,
    "relation_type": "uses",
    "projects": ["fepro"]
  },
  "for_project": {
    "fepro": true,
    "femsq": false
  }
}
```

#### 1.6. `POST /api/edges/batch-add-projects` - –ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –¶–∏–∫–ª —Å –≤—ã–∑–æ–≤–æ–º `add_project_to_edge()` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–±—Ä–∞ –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

**Request:**
```json
{
  "edge_ids": [1125899906842673, 1125899906842677, 1125899906842678],
  "project_key": "fepro",
  "role": "participant",
  "weight": 1.0
}
```

**Response:**
```json
{
  "success": true,
  "project_key": "fepro",
  "total": 3,
  "added": 3,
  "skipped": 0,
  "errors": [],
  "results": [
    {"edge_id": 1125899906842673, "status": "added"},
    {"edge_id": 1125899906842677, "status": "added"},
    {"edge_id": 1125899906842678, "status": "added"}
  ]
}
```

#### 1.7. `POST /api/edges/batch-remove-projects` - –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –¶–∏–∫–ª —Å –≤—ã–∑–æ–≤–æ–º `remove_project_from_edge()` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–±—Ä–∞ –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

**Request:**
```json
{
  "edge_ids": [1125899906842673, 1125899906842677, 1125899906842678],
  "project_key": "fepro"
}
```

**Response:**
```json
{
  "success": true,
  "project_key": "fepro",
  "total": 3,
  "removed": 3,
  "not_found": 0,
  "errors": []
}
```

### –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ MCP handler'–∞

–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π handler: `src/mcp_server/handlers/edge_project_manager.py`

**–ö–ª–∞—Å—Å:** `EdgeProjectManagerHandler`

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `EdgeManagerHandler` - —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ HTTP requests –∫ API

**–ú–µ—Ç–æ–¥—ã:**
1. `get_projects(edge_id)` ‚Üí `GET /api/edges/<edge_id>/projects`
2. `add_project(edge_id, project_key, role, weight)` ‚Üí `POST /api/edges/<edge_id>/projects`
3. `remove_project(edge_id, project_key)` ‚Üí `DELETE /api/edges/<edge_id>/projects/<project_key>`
4. `get_edge_info(edge_id)` ‚Üí `GET /api/edges/<edge_id>`
5. `check_connection(from_node, to_node, project_filter)` ‚Üí `POST /api/edges/check-connection`
6. `batch_add_projects(edge_ids, project_key, role, weight)` ‚Üí `POST /api/edges/batch-add-projects`
7. `batch_remove_projects(edge_ids, project_key)` ‚Üí `POST /api/edges/batch-remove-projects`

**–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–∞:**
```python
def get_projects(self, edge_id: int) -> Dict[str, Any]:
    """–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–µ–∫—Ç—ã —Ä–µ–±—Ä–∞ —á–µ—Ä–µ–∑ API"""
    try:
        response = requests.get(
            f'{self.api_url}/api/edges/{edge_id}/projects',
            timeout=10
        )
        
        if response.status_code == 200:
            return response.json()
        else:
            return {
                'success': False,
                'error': response.json().get('error', '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞')
            }
    except requests.exceptions.RequestException as e:
        return {
            'success': False,
            'error': f'–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API: {e}'
        }
```

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ server.py

**–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è handler'–∞:**
```python
# –í __init__():
from handlers.edge_project_manager import create_edge_project_manager_handler
self.edge_project_manager = create_edge_project_manager_handler()
```

**–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥:**
```python
# –í _register_tools():
"edge_get_projects": {
    "name": "edge_get_projects",
    "description": "–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Ä–µ–±—Ä–æ–º",
    "inputSchema": {
        "type": "object",
        "properties": {
            "edge_id": {"type": "integer", "description": "ID —Ä–µ–±—Ä–∞"}
        },
        "required": ["edge_id"]
    }
},
# ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

# –í _register_handlers():
"edge_get_projects": self._handle_get_edge_projects,
"edge_add_project": self._handle_add_project_to_edge,
"edge_remove_project": self._handle_remove_project_from_edge,
"edge_get_info": self._handle_get_edge_info,
"nodes_check_connection": self._handle_check_connection,
"edge_batch_add_projects": self._handle_batch_add_projects,
"edge_batch_remove_projects": self._handle_batch_remove_projects,
```

**–ü—Ä–∏–º–µ—Ä handler –º–µ—Ç–æ–¥–∞:**
```python
def _handle_get_edge_projects(self, arguments: dict) -> dict:
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤ —Ä–µ–±—Ä–∞"""
    try:
        edge_id = arguments.get("edge_id")
        if not edge_id:
            return {"content": [{"type": "text", "text": "‚ùå –û—à–∏–±–∫–∞: –ù–µ —É–∫–∞–∑–∞–Ω edge_id"}]}
        
        result = self.edge_project_manager.get_projects(edge_id)
        
        if result.get('success'):
            projects = result.get('projects', [])
            text = f"‚úÖ –ü—Ä–æ–µ–∫—Ç—ã —Ä–µ–±—Ä–∞ {edge_id}:\n\n"
            for p in projects:
                text += f"  ‚Ä¢ {p['key']} ({p.get('name', '')}) - {p.get('role', 'participant')}\n"
            return {"content": [{"type": "text", "text": text}]}
        else:
            return {"content": [{"type": "text", "text": f"‚ùå –û—à–∏–±–∫–∞: {result.get('error')}"}]}
    except Exception as e:
        return {"content": [{"type": "text", "text": f"‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞: {e}"}]}
```

---

## üìã –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: API Endpoints –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ —Ä—ë–±–µ—Ä (3-4 —á–∞—Å–∞)
**–§–∞–π–ª:** `src/lib/graph_viewer/backend/api_server_age.py`

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `GET /api/edges/<edge_id>/projects`
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `get_edge_projects_enriched()` –∏–∑ PostgreSQL
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (edge –Ω–µ –Ω–∞–π–¥–µ–Ω, –∏ —Ç.–¥.)
  
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `POST /api/edges/<edge_id>/projects`
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `add_project_to_edge()` –∏–∑ PostgreSQL
  - –í–∞–ª–∏–¥–∞—Ü–∏—è project_key
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
  
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `DELETE /api/edges/<edge_id>/projects/<project_key>`
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `remove_project_from_edge()` –∏–∑ PostgreSQL
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞—è, –∫–æ–≥–¥–∞ –ø—Ä–æ–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `GET /api/edges/<edge_id>`
  - Cypher –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–∑–ª–æ–≤ –∏ —Ç–∏–ø–∞ —Å–≤—è–∑–∏
  - `get_edge_projects_enriched()` –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤
  - –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `POST /api/edges/check-connection`
  - Cypher –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å–≤—è–∑–∏
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ `get_edge_projects_enriched()`
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ project_filter

- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å endpoints —á–µ—Ä–µ–∑ curl/Postman

### –≠—Ç–∞–ø 2: –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ API (1-2 —á–∞—Å–∞)
**–§–∞–π–ª:** `src/lib/graph_viewer/backend/api_server_age.py`

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `POST /api/edges/batch-add-projects`
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–∞ edge_ids
  - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏
  - –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–¥–æ–±–∞–≤–ª–µ–Ω–æ, –ø—Ä–æ–ø—É—â–µ–Ω–æ, –æ—à–∏–±–∫–∏)
  
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `POST /api/edges/batch-remove-projects`
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–∞ edge_ids
  - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏
  - –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è

- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### –≠—Ç–∞–ø 3: MCP Handler –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ —Ä—ë–±–µ—Ä (2-3 —á–∞—Å–∞)
**–§–∞–π–ª:** `src/mcp_server/handlers/edge_project_manager.py`

- [ ] –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å `EdgeProjectManagerHandler`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `get_projects()` ‚Üí `GET /api/edges/<id>/projects`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `add_project()` ‚Üí `POST /api/edges/<id>/projects`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `remove_project()` ‚Üí `DELETE /api/edges/<id>/projects/<key>`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `get_edge_info()` ‚Üí `GET /api/edges/<id>`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `check_connection()` ‚Üí `POST /api/edges/check-connection`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `batch_add_projects()` ‚Üí `POST /api/edges/batch-add-projects`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `batch_remove_projects()` ‚Üí `POST /api/edges/batch-remove-projects`

### –≠—Ç–∞–ø 4: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è MCP –∫–æ–º–∞–Ω–¥ (1 —á–∞—Å)
**–§–∞–π–ª:** `src/mcp_server/server.py`

- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤ `_register_tools()` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥:
  - `edge_get_projects`
  - `edge_add_project`
  - `edge_remove_project`
  - `edge_get_info`
  - `nodes_check_connection`
  - `edge_batch_add_projects`
  - `edge_batch_remove_projects`

- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤ `_register_handlers()` –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
- [ ] –°–æ–∑–¥–∞—Ç—å factory —Ñ—É–Ω–∫—Ü–∏—é `create_edge_project_manager_handler()`

### –≠—Ç–∞–ø 5: –î–æ—Ä–∞–±–æ—Ç–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–∞–Ω–¥ (1-2 —á–∞—Å–∞)

- [ ] –î–æ—Ä–∞–±–æ—Ç–∞—Ç—å `node_get_selected`:
  - –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `include_projects` –≤ API endpoint `GET /api/selection`
  - –û–±–Ω–æ–≤–∏—Ç—å MCP handler –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `get_edge_projects_array()` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–±—Ä–∞

- [ ] –†–∞—Å—à–∏—Ä–∏—Ç—å `edge_check_uniqueness`:
  - –û–±–Ω–æ–≤–∏—Ç—å endpoint `POST /api/edges/check`
  - –ï—Å–ª–∏ —Å–≤—è–∑—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å edge_id –∏ –ø—Ä–æ–µ–∫—Ç—ã
  - –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –≤ response

### –≠—Ç–∞–ø 6: –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (2-3 —á–∞—Å–∞)

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `POST /api/selection/analyze-connections`
  - –ü–æ–ª—É—á–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ —É–∑–ª—ã —á–µ—Ä–µ–∑ WebSocket (–∫–∞–∫ `node_get_selected`)
  - –ù–∞–π—Ç–∏ –≤—Å–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —É–∑–ª–∞–º–∏
  - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–µ–∫—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Å–≤—è–∑–∏
  - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (–¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø—Ä–æ–µ–∫—Ç—ã)

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å MCP –∫–æ–º–∞–Ω–¥—É `selected_analyze_connections`
  - –í—ã–∑–æ–≤ –Ω–æ–≤–æ–≥–æ API endpoint
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –≠—Ç–∞–ø 7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (2 —á–∞—Å–∞)

- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ API endpoints
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ MCP –∫–æ–º–∞–Ω–¥—ã
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API
- [ ] –û–±–Ω–æ–≤–∏—Ç—å README MCP-—Å–µ—Ä–≤–µ—Ä–∞
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `.cursorrules` —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –Ω–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥–∞—Ö
- [ ] –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

### –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è edge_id –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è project_key –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –î–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–µ–∫—Ç–∞—Ö (–µ—Å–ª–∏ —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –û–±–Ω–æ–≤–∏—Ç—å README MCP-—Å–µ—Ä–≤–µ—Ä–∞ —Å –Ω–æ–≤—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
- –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –û–±–Ω–æ–≤–∏—Ç—å `.cursorrules` —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –Ω–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥–∞—Ö

---

## üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏ –æ—Ü–µ–Ω–∫–∏

| –ö–æ–º–∞–Ω–¥–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –≠—Ç–∞–ø | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –í—Ä–µ–º—è |
|---------|-----------|------|-----------|-------|
| API: `GET /api/edges/<id>/projects` | üî¥ –í—ã—Å–æ–∫–∏–π | 1 | –ù–∏–∑–∫–∞—è | 30 –º–∏–Ω |
| API: `POST /api/edges/<id>/projects` | üî¥ –í—ã—Å–æ–∫–∏–π | 1 | –ù–∏–∑–∫–∞—è | 30 –º–∏–Ω |
| API: `DELETE /api/edges/<id>/projects/<key>` | üî¥ –í—ã—Å–æ–∫–∏–π | 1 | –ù–∏–∑–∫–∞—è | 30 –º–∏–Ω |
| API: `GET /api/edges/<id>` | üü° –°—Ä–µ–¥–Ω–∏–π | 1 | –°—Ä–µ–¥–Ω—è—è | 1 —á–∞—Å |
| API: `POST /api/edges/check-connection` | üî¥ –í—ã—Å–æ–∫–∏–π | 1 | –°—Ä–µ–¥–Ω—è—è | 1 —á–∞—Å |
| API: `POST /api/edges/batch-add-projects` | üü° –°—Ä–µ–¥–Ω–∏–π | 2 | –ù–∏–∑–∫–∞—è | 1 —á–∞—Å |
| API: `POST /api/edges/batch-remove-projects` | üü° –°—Ä–µ–¥–Ω–∏–π | 2 | –ù–∏–∑–∫–∞—è | 1 —á–∞—Å |
| MCP Handler: –≤—Å–µ –º–µ—Ç–æ–¥—ã | üî¥ –í—ã—Å–æ–∫–∏–π | 3 | –°—Ä–µ–¥–Ω—è—è | 2-3 —á–∞—Å–∞ |
| –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ server.py | üî¥ –í—ã—Å–æ–∫–∏–π | 4 | –ù–∏–∑–∫–∞—è | 1 —á–∞—Å |
| –î–æ—Ä–∞–±–æ—Ç–∫–∞ `node_get_selected` | üü° –°—Ä–µ–¥–Ω–∏–π | 5 | –°—Ä–µ–¥–Ω—è—è | 1-2 —á–∞—Å–∞ |
| –î–æ—Ä–∞–±–æ—Ç–∫–∞ `edge_check_uniqueness` | üü¢ –ù–∏–∑–∫–∏–π | 5 | –ù–∏–∑–∫–∞—è | 30 –º–∏–Ω |
| `selected_analyze_connections` | üü¢ –ù–∏–∑–∫–∏–π | 6 | –í—ã—Å–æ–∫–∞—è | 2-3 —á–∞—Å–∞ |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | - | 7 | –°—Ä–µ–¥–Ω—è—è | 2 —á–∞—Å–∞ |

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** ~12-15 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã

---

## üéØ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

‚úÖ **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ SQL** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏ —Ä—ë–±–µ—Ä  
‚úÖ **–£—Å–∫–æ—Ä–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã** —Å –≥—Ä–∞—Ñ–æ–º —á–µ—Ä–µ–∑ MCP –∫–æ–º–∞–Ω–¥—ã  
‚úÖ **–°–Ω–∏–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫** –ø—Ä–∏ –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö  
‚úÖ **–£–ª—É—á—à–µ–Ω–∏–µ UX** —á–µ—Ä–µ–∑ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –æ–ø–µ—Ä–∞—Ü–∏–π  
‚úÖ **–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** edge_projects –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –≤ MCP

---

## üìù –ó–∞–º–µ—á–∞–Ω–∏—è

1. **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ API:**
   - ‚úÖ –í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã (MCP-fedoc, Graph Viewer, –±—É–¥—É—â–∏–µ) –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ API endpoints
   - ‚úÖ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏ —Ä—ë–±–µ—Ä –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ API —Å–µ—Ä–≤–µ—Ä–µ
   - ‚úÖ –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å —á–µ—Ä–µ–∑ curl/Postman
   - ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, rate limiting –∏ —Ç.–¥. –Ω–∞ —É—Ä–æ–≤–Ω–µ API

2. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏:**
   - `edge_add` –∏ `edge_update` —É–∂–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç `projects` –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä
   - –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–æ–ø–æ–ª–Ω—è—é—Ç –∏—Ö, –Ω–æ –Ω–µ –∑–∞–º–µ–Ω—è—é—Ç
   - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ä–µ–±—Ä–∞ —á–µ—Ä–µ–∑ `edge_add`/`edge_update` –ø—Ä–æ–µ–∫—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –≤ `edge_projects`

3. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ API endpoints:**
   - RESTful –¥–∏–∑–∞–π–Ω: `/api/edges/<id>/projects` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–±—Ä–∞
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö HTTP –º–µ—Ç–æ–¥–æ–≤: GET, POST, DELETE
   - –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤: `{success: true/false, ...}`

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Ä—ë–±–µ—Ä
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (–Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ edge_id, project_key)
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API endpoints –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç MCP –∫–æ–º–∞–Ω–¥

5. **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞:**
   - ‚úÖ Graph Viewer frontend —Å–º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ –∂–µ endpoints
   - ‚úÖ –ë—É–¥—É—â–∏–µ –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—Ç –≥–æ—Ç–æ–≤—ã–π API
   - ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
   - ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ API
   - ‚úÖ –ï–¥–∏–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–ª—è –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `docs-preliminary/mcp-commands-analysis.md` - –ü–µ—Ä–≤–∏—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (–∏–∑ —á–∞—Ç–∞ 2)
- `docs-preliminary/chats/chat-2025-11-03-summary.md` - –†–µ–∑—é–º–µ —á–∞—Ç–∞ 1
- `docs-preliminary/chats/chat-2025-11-03-summary-09-44.md` - –†–µ–∑—é–º–µ —á–∞—Ç–∞ 2
- `src/lib/graph_viewer/backend/migrations/002_create_project_functions.sql` - PostgreSQL —Ñ—É–Ω–∫—Ü–∏–∏
- `src/mcp_server/handlers/edge_manager.py` - –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π handler –¥–ª—è —Ä—ë–±–µ—Ä

---

**–°—Ç–∞—Ç—É—Å:** üü° –ì–æ—Ç–æ–≤–æ –∫ –æ–±—Å—É–∂–¥–µ–Ω–∏—é –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

