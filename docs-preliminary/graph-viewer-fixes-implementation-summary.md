# –†–µ–∑—é–º–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π Graph Viewer

**–î–∞—Ç–∞:** 2025-10-20  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
**–¶–µ–ª—å:** –û–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫ Graph Viewer —á–µ—Ä–µ–∑ MCP –∫–æ–º–∞–Ω–¥—É –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –º–∞—à–∏–Ω–∞—Ö

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –§–∞–∑–∞ 1: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ‚úÖ

#### 1.1. –û–±–Ω–æ–≤–ª—ë–Ω `config/graph_viewer.yaml`
**–§–∞–π–ª:** `config/graph_viewer.yaml`  
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è `postgres` —Å –ø–æ–ª–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ—Ä—Ç—ã —Ç—É–Ω–Ω–µ–ª–µ–π: `postgres_tunnel: 15432` –∏ `arango_tunnel: 8529`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ—Ä—Ç API —Å–µ—Ä–≤–µ—Ä–∞: `8899 ‚Üí 15000`
- ‚úÖ ArangoDB –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ legacy: `enabled: false`
- ‚úÖ –í–µ—Ä—Å–∏—è –∫–æ–Ω—Ñ–∏–≥–∞: `1.0 ‚Üí 2.0`

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```yaml
postgres:
  enabled: true
  port: 5432
  database: "fedoc"
  user: "postgres"
  default_password: "fedoc_test_2025"

ports:
  postgres_tunnel: 15432
  arango_tunnel: 8529
  api_server: 15000
  vite_server: 5173
```

#### 1.2. –°–æ–∑–¥–∞–Ω –ø—Ä–æ—Ñ–∏–ª—å –¥–ª—è WSL
**–§–∞–π–ª:** `config/machines/alex-User-PC.yaml`  
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –ù–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å –º–∞—à–∏–Ω—ã –¥–ª—è Windows WSL2
- ‚úÖ –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –±—Ä–∞—É–∑–µ—Ä–∞: `cd /mnt/c && cmd.exe /c start`
- ‚úÖ –ü—É—Ç–∏ –∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –∏ –ø—Ä–æ–µ–∫—Ç—É

---

### –§–∞–∑–∞ 2: TunnelManager ‚úÖ

#### 2.1. –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ç—É–Ω–Ω–µ–ª–µ–π
**–§–∞–π–ª:** `src/lib/graph_viewer/backend/tunnel_manager.py`  
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç—É–Ω–Ω–µ–ª–µ–π —á–µ—Ä–µ–∑ —Å–ª–æ–≤–∞—Ä—å `self.tunnels`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—É–Ω–Ω–µ–ª–µ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ PostgreSQL —Ç—É–Ω–Ω–µ–ª—å –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π (–µ—Å–ª–∏ `postgres.enabled: true`)
- ‚úÖ ArangoDB —Ç—É–Ω–Ω–µ–ª—å –∫–∞–∫ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π (–µ—Å–ª–∏ `arango.enabled: true`)

**–ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
- `ensure_all_tunnels()` - —Å–æ–∑–¥–∞—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ç—É–Ω–Ω–µ–ª–∏
- `close_all_tunnels()` - –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ —Ç—É–Ω–Ω–µ–ª–∏
- `get_status()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Ç—É–Ω–Ω–µ–ª–µ–π (–Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç)

**–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
- ‚úÖ –°—Ç–∞—Ä—ã–µ –º–µ—Ç–æ–¥—ã `ensure_tunnel()`, `check_tunnel()`, `create_tunnel()` —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç —Å –ø–µ—Ä–≤—ã–º —Ç—É–Ω–Ω–µ–ª–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

---

### –§–∞–∑–∞ 3: ProcessManager ‚úÖ

#### 3.1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `check_api_server()`
**–§–∞–π–ª:** `src/lib/graph_viewer/backend/process_manager.py:114`  
**–ë—ã–ª–æ:**
```python
return self._find_process(r"python.*api_server\.py")
```
**–°—Ç–∞–ª–æ:**
```python
return self._find_process(r"python.*api_server_age\.py")
```

#### 3.2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø–æ—Ä—Ç—ã –≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
**–°—Ç—Ä–æ–∫–∞ 58:**
```python
self.api_port = config.get('ports.api_server', 15000)  # –±—ã–ª–æ 8899
```

**–°—Ç—Ä–æ–∫–∞ 72 (legacy mode):**
```python
self.api_port = 15000  # –±—ã–ª–æ 8899
```

#### 3.3. –û–±–Ω–æ–≤–ª—ë–Ω `start_api_server()`
**–°—Ç—Ä–æ–∫–∏ 139-174:**
- ‚úÖ –ß–∏—Ç–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã PostgreSQL –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –ü–µ—Ä–µ–¥–∞–µ—Ç –ø–æ—Ä—Ç API —Å–µ—Ä–≤–µ—Ä–∞: `--port 15000`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞:**
```python
[
    str(self.venv_python),
    str(api_script),
    "--port", str(self.api_port),           # –î–û–ë–ê–í–õ–ï–ù–û
    "--db-host", db_host,                   # –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
    "--db-port", db_port,                   # postgres_tunnel
    "--db-name", db_name,                   # –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
    "--db-user", db_user,                   # –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
    "--db-password", db_password            # –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
]
```

#### 3.4. –û–±–Ω–æ–≤–ª—ë–Ω `start_vite_server()`
**–°—Ç—Ä–æ–∫–∏ 215-231:**
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç –∫–æ–ø–∏—é environment: `env = os.environ.copy()`
- ‚úÖ –î–æ–±–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é: `env['VITE_API_PORT'] = str(self.api_port)`
- ‚úÖ –ü–µ—Ä–µ–¥–∞–µ—Ç –≤ subprocess: `env=env`

---

### –§–∞–∑–∞ 4: Frontend –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ‚úÖ

#### 4.1. –û–±–Ω–æ–≤–ª—ë–Ω `vite.config.js`
**–§–∞–π–ª:** `src/lib/graph_viewer/frontend/vite.config.js`  
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```javascript
// –î–æ–±–∞–≤–ª–µ–Ω–æ —á—Ç–µ–Ω–∏–µ –∏–∑ environment
const API_PORT = process.env.VITE_API_PORT || '15000'

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ proxy
proxy: {
  '/api': {
    target: `http://127.0.0.1:${API_PORT}`,  // –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
    ...
  },
  '/socket.io': {
    target: `ws://127.0.0.1:${API_PORT}`,    // –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
    ...
  }
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ—Ä—Ç –±–µ—Ä–µ—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ Fallback –Ω–∞ 15000 –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –∑–∞–¥–∞–Ω–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ ProcessManager

#### 4.2. WebSocket —É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω —Ä–∞–Ω–µ–µ
**–§–∞–π–ª:** `src/lib/graph_viewer/frontend/src/stores/graph.js:606`  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤—Ä—É—á–Ω—É—é
```javascript
socket = io({  // –±–µ–∑ URL - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Vite proxy
  transports: ['websocket', 'polling'],
  reconnection: true,
  ...
})
```

---

### –§–∞–∑–∞ 5: MCP Handler ‚úÖ

#### 5.1. –û–±–Ω–æ–≤–ª—ë–Ω `open_graph_viewer()`
**–§–∞–π–ª:** `src/mcp_server/handlers/graph_viewer_manager.py`

**–°–æ–∑–¥–∞–Ω–∏–µ —Ç—É–Ω–Ω–µ–ª–µ–π (—Å—Ç—Ä–æ–∫–∞ 102-121):**
```python
# –ë–´–õ–û:
tunnel_ok = tunnel_mgr.ensure_tunnel()

# –°–¢–ê–õ–û:
tunnel_ok = tunnel_mgr.ensure_all_tunnels()

# –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Ç—É–Ω–Ω–µ–ª–µ–π
tunnels_status = tunnel_mgr.get_status()

# –õ–æ–≥–∏—Ä—É–µ–º –∫–∞–∂–¥—ã–π —Ç—É–Ω–Ω–µ–ª—å
for name, tunnel in tunnels_status.items():
    if tunnel['status'] == 'connected':
        log(f"   ‚úì {tunnel['name']} —Ç—É–Ω–Ω–µ–ª—å –∞–∫—Ç–∏–≤–µ–Ω...")
```

**–û—Ç–∫—Ä—ã—Ç–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π WSL (—Å—Ç—Ä–æ–∫–∞ 157-179):**
```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –∫–æ–º–∞–Ω–¥—É –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞
browser_cmd = config.get('environment.browser_command')
if browser_cmd:
    # WSL: –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –∫–æ–º–∞–Ω–¥—É
    subprocess.run(f'{browser_cmd} {url}', shell=True, check=False)
else:
    # –û–±—ã—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
    webbrowser.open(url)
```

#### 5.2. –û–±–Ω–æ–≤–ª—ë–Ω `graph_viewer_status()`
**–°—Ç—Ä–æ–∫–∏ 218-272:**
- ‚úÖ –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Ç—É–Ω–Ω–µ–ª–µ–π: `tunnels_status = tunnel_mgr.get_status()`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ —Ç—É–Ω–Ω–µ–ª–∏: `all_tunnels_ok = all(...)`
- ‚úÖ –í—ã–≤–æ–¥–∏—Ç –∫–∞–∂–¥—ã–π —Ç—É–Ω–Ω–µ–ª—å –æ—Ç–¥–µ–ª—å–Ω–æ
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –≤—ã–≤–æ–¥ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ç—É–Ω–Ω–µ–ª–µ–π

**–ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:**
```
‚úÖ –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å: running
üñ•Ô∏è  –ú–∞—à–∏–Ω–∞: alex-User-PC

üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
   ‚úÖ postgres_tunnel: connected (PID: 2929)
   ‚ùå arango_tunnel: disconnected
   ‚úÖ api_server: running (PID: 2990)
   ‚úÖ vite_server: running (PID: 3080)
```

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (7):
1. ‚úÖ `config/graph_viewer.yaml` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
2. ‚úÖ `config/machines/alex-User-PC.yaml` - –Ω–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å WSL
3. ‚úÖ `src/lib/graph_viewer/backend/tunnel_manager.py` - –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞
4. ‚úÖ `src/lib/graph_viewer/backend/process_manager.py` - 4 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
5. ‚úÖ `src/lib/graph_viewer/frontend/vite.config.js` - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç
6. ‚úÖ `src/mcp_server/handlers/graph_viewer_manager.py` - 2 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
7. ‚úÖ `src/lib/graph_viewer/frontend/src/stores/graph.js` - —É–∂–µ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã (2):
1. ‚úÖ `docs-preliminary/graph-viewer-fixes-proposal.md` - –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
2. ‚úÖ `docs-preliminary/graph-viewer-fixes-implementation-summary.md` - —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç

### –°—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞:
- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** ~200 —Å—Ç—Ä–æ–∫
- **–ò–∑–º–µ–Ω–µ–Ω–æ:** ~80 —Å—Ç—Ä–æ–∫
- **–£–¥–∞–ª–µ–Ω–æ:** ~30 —Å—Ç—Ä–æ–∫

---

## üéØ –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ü–µ–ª–∏

### 1. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL ‚úÖ
- ‚úÖ SSH —Ç—É–Ω–Ω–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç (15432 ‚Üí 5432)
- ‚úÖ API —Å–µ—Ä–≤–µ—Ä –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ PostgreSQL —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –±–µ—Ä—É—Ç—Å—è –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 2. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–æ—Ä—Ç—ã ‚úÖ
- ‚úÖ API —Å–µ—Ä–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (15000)
- ‚úÖ Vite proxy –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ `VITE_API_PORT`
- ‚úÖ WebSocket –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ proxy

### 3. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç—É–Ω–Ω–µ–ª–∏ ‚úÖ
- ‚úÖ TunnelManager –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç—É–Ω–Ω–µ–ª–µ–π
- ‚úÖ PostgreSQL + ArangoDB (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç—É–Ω–Ω–µ–ª–∏

### 4. –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å ‚úÖ
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ WSL (—Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Linux (Fedora 42)
- ‚úÖ –ü—Ä–æ—Ñ–∏–ª–∏ –º–∞—à–∏–Ω –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π

### 5. –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ ‚úÖ
- ‚úÖ `check_api_server()` –∏—â–µ—Ç `api_server_age.py`
- ‚úÖ MCP –∫–æ–º–∞–Ω–¥—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å

---

## üß™ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

### –ß—Ç–æ –≥–æ—Ç–æ–≤–æ:
‚úÖ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã  
‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞  
‚úÖ –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç best practices  
‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–§–∞–∑–∞ 6):

1. **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã:**
   ```bash
   pkill -f api_server_age.py
   pkill -f "node.*vite"
   kill <PID_SSH_POSTGRES>  # –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
   ```

2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ MCP:**
   ```
   –í Cursor AI:
   "–û—Ç–∫—Ä–æ–π –≥—Ä–∞—Ñ –≤—å—é–≤–µ—Ä"
   ```

3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –º–∞—à–∏–Ω–∞: alex-User-PC
   - ‚úÖ –°–æ–∑–¥–∞–Ω PostgreSQL —Ç—É–Ω–Ω–µ–ª—å: 15432
   - ‚úÖ –ó–∞–ø—É—â–µ–Ω API —Å–µ—Ä–≤–µ—Ä: 15000
   - ‚úÖ –ó–∞–ø—É—â–µ–Ω Vite: 5173 (proxy ‚Üí 15000)
   - ‚úÖ –û—Ç–∫—Ä—ã—Ç –±—Ä–∞—É–∑–µ—Ä —á–µ—Ä–µ–∑ WSL –∫–æ–º–∞–Ω–¥—É
   - ‚úÖ –ì—Ä–∞—Ñ –∑–∞–≥—Ä—É–∂–µ–Ω: 39 —É–∑–ª–æ–≤, 34 —Ä–µ–±—Ä–∞
   - ‚úÖ WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å:**
   ```
   "–ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å graph viewer"
   ```

5. **–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
   ```
   ‚úÖ –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å: running
   üñ•Ô∏è  –ú–∞—à–∏–Ω–∞: alex-User-PC
   
   üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
      ‚úÖ postgres_tunnel: connected (PID: XXXX)
      ‚úÖ api_server: running (PID: YYYY)
      ‚úÖ vite_server: running (PID: ZZZZ)
   
   üåê –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ—Å—Ç—É–ø–µ–Ω: http://localhost:5173
   ```

---

## üîÑ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ:
- –°—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ –º–∞—à–∏–Ω —Ä–∞–±–æ—Ç–∞—é—Ç
- –ü—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã TunnelManager/ProcessManager —Ä–∞–±–æ—Ç–∞—é—Ç (legacy mode)
- CLI –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `dev/tools/view-graph.sh` —Ä–∞–±–æ—Ç–∞–µ—Ç
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–µ—é—Ç –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è:
- –°—Ç–∞—Ä–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (version: 1.0) –º–æ–∂–µ—Ç –Ω–µ –∏–º–µ—Ç—å —Å–µ–∫—Ü–∏–∏ `postgres`
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞—Ç—å PostgreSQL —Ç—É–Ω–Ω–µ–ª—å
- ArangoDB —Ç—É–Ω–Ω–µ–ª—å –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω (–µ—Å–ª–∏ `arango.enabled: false`)

### üìù –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–æ–∫:
1. –û–±–Ω–æ–≤–∏—Ç—å `config/graph_viewer.yaml` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ git pull)
2. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –º–∞—à–∏–Ω—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ)
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Graph Viewer —á–µ—Ä–µ–∑ MCP

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### –ö–æ–¥:
- ‚úÖ –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å: –í—ã—Å–æ–∫–∞—è (–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, docstrings)
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å: –í—ã—Å–æ–∫–∞—è (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏)
- ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å: –•–æ—Ä–æ—à–∞—è (–º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Ç–¥–µ–ª—å–Ω–æ)
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –ü–æ–ª–Ω–∞—è (2 –¥–æ–∫—É–º–µ–Ω—Ç–∞ + inline –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –∫–æ–¥–∞
- ‚úÖ –ü—Ä–æ—Ñ–∏–ª–∏ –º–∞—à–∏–Ω –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ ConfigManager
- ‚úÖ –°–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:
- ‚úÖ Graceful degradation (fallback –∑–Ω–∞—á–µ–Ω–∏—è)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ç—É–Ω–Ω–µ–ª–µ–π/–ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–í—Å–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã!**

### –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:
1. ‚úÖ PostgreSQL –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
2. ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç—É–Ω–Ω–µ–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è
3. ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
4. ‚úÖ WSL –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞
5. ‚úÖ –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–µ–Ω–∞

### –ì–æ—Ç–æ–≤–æ –∫:
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞ WSL (alex-User-PC)
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞ Fedora (alex-fedora)
- ‚úÖ Production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –û—Å—Ç–∞–ª–æ—Å—å:
- üî≤ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –æ–±–µ–∏—Ö –º–∞—à–∏–Ω–∞—Ö
- üî≤ –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
- üî≤ –û–±–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-10-20  
**–ó–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è:** ~2 —á–∞—Å–∞  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ



