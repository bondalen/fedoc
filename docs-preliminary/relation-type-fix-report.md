# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ relation_type –≤ API endpoints

**–î–∞—Ç–∞:** 2025-11-03  
**–ü—Ä–æ–±–ª–µ–º–∞:** `relation_type` –≤–æ–∑–≤—Ä–∞—â–∞–ª—Å—è –∫–∞–∫ `None` –≤ `edge_get_info` –∏ `nodes_check_connection`  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**

---

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

–í —Ñ—É–Ω–∫—Ü–∏—è—Ö `get_edge_info` –∏ `check_connection` –≤ —Ñ–∞–π–ª–µ `api_server_age.py` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–ª–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–∏–ø–∞ —Å–≤—è–∑–∏:
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å:** `e.type`
- **–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:** `e.relationType`

–¢–∞–∫–∂–µ –ø—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –∑–∞–ø—Ä–æ—Å–µ –¥–ª—è `get_graph` (—Å—Ç—Ä–æ–∫–∞ 686).

---

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. `get_edge_info` (—Å—Ç—Ä–æ–∫–∞ 1429)

**–ë—ã–ª–æ:**
```cypher
RETURN id(a), a.arango_key, a.name, a.kind,
       id(b), b.arango_key, b.name, b.kind,
       e.type
```

**–°—Ç–∞–ª–æ:**
```cypher
RETURN id(a), a.arango_key, a.name, a.kind,
       id(b), b.arango_key, b.name, b.kind,
       e.relationType
```

### 2. `check_connection` (—Å—Ç—Ä–æ–∫–∞ 1523)

**–ë—ã–ª–æ:**
```cypher
RETURN id(e), e.type
```

**–°—Ç–∞–ª–æ:**
```cypher
RETURN id(e), e.relationType
```

### 3. `get_graph` (—Å—Ç—Ä–æ–∫–∞ 686)

**–ë—ã–ª–æ:**
```cypher
RETURN id(e), id(a), id(b), a.name, b.name, a.arango_key, b.arango_key, a.kind, b.kind, e.projects, e.type
```

**–°—Ç–∞–ª–æ:**
```cypher
RETURN id(e), id(a), id(b), a.name, b.name, a.arango_key, b.arango_key, a.kind, b.kind, e.projects, e.relationType
```

---

## üìù –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

- `src/lib/graph_viewer/backend/api_server_age.py` (3 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

---

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: API endpoint –Ω–∞–ø—Ä—è–º—É—é

**–ó–∞–ø—Ä–æ—Å:**
```bash
curl http://localhost:15000/api/edges/1125899906842676
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```json
{
  "edge": {
    "relation_type": null,
    ...
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```json
{
  "edge": {
    "relation_type": "uses",
    ...
  }
}
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**

---

## üéØ –í—ã–≤–æ–¥—ã

1. ‚úÖ –í—Å–µ —Ç—Ä–∏ –º–µ—Å—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
2. ‚úÖ API —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
3. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É
4. ‚úÖ `relation_type` —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ `None`

---

## üìö –°–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–í Apache AGE (PostgreSQL extension) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–∏–ø–∞ —Å–≤—è–∑–∏ –≤ Cypher –∑–∞–ø—Ä–æ—Å–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
- ‚úÖ `e.relationType` - –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–ª–µ (—Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–∏–ø —Å–≤—è–∑–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä "uses", "related", –∏ —Ç.–¥.)
- ‚ùå `e.type` - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–ª–µ (–≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `None` –¥–ª—è —Ä—ë–±–µ—Ä —Ç–∏–ø–∞ `project_relation`)

–≠—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç—Å—è:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `e.relationType` –≤ –º–∏–≥—Ä–∞—Ü–∏–∏ `004_add_isolated_nodes.sql`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `e.relationType` –≤ —Å—Ç–∞—Ä–æ–º —Ñ–∞–π–ª–µ `api_server.py` (–¥–ª—è ArangoDB)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `relationType` –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 2025-11-03  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** AI Assistant  
**–í–µ—Ä—Å–∏—è:** 1.0.0

